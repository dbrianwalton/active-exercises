/*! For license information please see 148.9ab020ae40d1c890.bundle.js.LICENSE.txt */
(self.webpackChunkWebComponents=self.webpackChunkWebComponents||[]).push([[148],{46700:(e,t,n)=>{var r={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-nz":76319,"./en-nz.js":76319,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./th":9041,"./th.js":9041,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-tw":74152,"./zh-tw.js":74152};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=46700},77659:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Un,hpList:()=>Rn});var r=n(2568);class o{constructor(e){this.hparsons=e}createOutput(){console.log("createOutput method not implemented in feedback!")}async runButtonHandler(){console.log("runButtonClicked method not implemented in feedback!")}customizeUI(){}init(){}clearFeedback(){console.log("clearFeedback method not implemented in feedback!")}reset(){console.log("reset method not implemented in feedback!")}}class i{constructor(e){this.problem=e}inverseLISIndices(e){for(var t=[],n=0;n<e.length;n++){for(var r=[e[n]],o=e[n],i=-1,a=n;a<e.length;a++){var s=e[a];s>o&&i<s&&(r.push(s),i=s)}t.push(r)}var l,c=-1;for(let e in t){var d=t[e];d.length>c&&(c=d.length,l=d)}var u=[],h=0;for(let t=0;t<e.length;t++)h>l.length?u.push(t):e[t]==l[h]?h+=1:u.push(t);return u}grade(){this.correctLines=0,this.percentLines=0;var e,t,n=this.solution,r=this.answer;this.percentLines=Math.min(r.length,n.length)/Math.max(r.length,n.length),r.length<n.length?(t="incorrectTooShort",this.correctLength=!1):r.length==n.length?this.correctLength=!0:this.correctLength=!1;let o=!0;this.correctLines=0,this.solutionLength=n.length;let i=Math.min(n.length,r.length);for(e=0;e<i;e++)r[e]!==n[e]?o=!1:this.correctLines+=1;return o&&this.correctLength?t="correct":(o||"incorrectTooShort"==t)&&(this.correctLength||"incorrectTooShort"==t)||(t="incorrectMoveBlocks"),this.calculatePercent(),this.graderState=t,t}calculatePercent(){let e=.2*this.percentLines,t=this.answer.length,n=this.correctLines/t*.8;this.percent=e+n}}n(59164),n(16432);class a extends o{createOutput(){this.messageDiv=document.createElement("div"),this.hparsons.outerDiv.appendChild(this.messageDiv)}customizeUI(){$(this.hparsons.runButton).text("Check Me")}init(){this.checkCount=0,this.solved=!1,this.grader=new i;let e=[];for(let t=0;t<this.hparsons.blockAnswer.length;++t)e.push(this.hparsons.originalBlocks[this.hparsons.blockAnswer[t]]);this.solution=e,this.grader.solution=e,this.answerArea=this.hparsons.hparsonsInput.querySelector(".drop-area")}async runButtonHandler(){this.checkCurrentAnswer(),this.renderFeedback()}checkCurrentAnswer(){this.solved||(this.checkCount++,this.clearFeedback(),this.grader.answer=this.hparsons.hparsonsInput.getParsonsTextArray(),this.grade=this.grader.grade(),"correct"==this.grade&&($(this.hparsons.runButton).prop("disabled",!0),this.solved=!0))}renderFeedback(){var e;this.grade=this.grader.graderState;var t=$(this.answerArea);if(e=$(this.messageDiv),"correct"===this.grade&&(t.addClass("correct"),e.fadeIn(100),e.attr("class","alert alert-info"),this.checkCount>1?e.html($.i18n("msg_parson_correct",this.checkCount)):e.html($.i18n("msg_parson_correct_first_try")),this.checkCount=0),"incorrectTooShort"===this.grade&&(t.addClass("incorrect"),e.fadeIn(500),e.attr("class","alert alert-danger"),e.html($.i18n("msg_parson_too_short"))),"incorrectMoveBlocks"===this.grade){var n=this.answerArea.children,r=[],o=[],i=[];for(let e=0;e<n.length;e++){var a=n[e],s=this.solution.indexOf(a.textContent);-1==s?i.push(a):(r.push(a),o.push(s))}var l=this.grader.inverseLISIndices(o);for(let e=0;e<l.length;e++)i.push(r[l[e]]);t.addClass("incorrect"),e.fadeIn(500),e.attr("class","alert alert-danger");for(let e=0;e<i.length;e++)$(i[e]).addClass("incorrectPosition");e.html($.i18n("msg_parson_wrong_order"))}}clearFeedback(){$(this.answerArea).removeClass("incorrect correct");for(var e=this.answerArea.childNodes,t=0;t<e.length;t++)$(e[t]).removeClass("correctPosition incorrectPosition");$(this.messageDiv).hide()}reset(){this.solved&&(this.checkCount=0,$(this.hparsons.runButton).prop("disabled",!1),this.solved=!1),this.clearFeedback()}}var s=n(26657),l=n.n(s),c=n(67446),d={};class u extends o{createOutput(){var e=document.createElement("div");$(e).addClass("hp_output col-md-12"),this.outDiv=e,this.output=document.createElement("pre"),this.output.id=this.hparsons.divid+"_stdout",$(this.output).css("visibility","hidden");var t=document.createElement("div");$(t).css("clear","both"),this.hparsons.outerDiv.appendChild(t),e.appendChild(this.output),this.hparsons.outerDiv.appendChild(e),t=document.createElement("div"),$(t).css("clear","both"),this.hparsons.outerDiv.appendChild(t)}renderFeedback(){this.testResult&&($(this.output).text(this.testResult),$(this.output).css("visibility","visible")),$(this.outDiv).show()}clearFeedback(){$(this.outDiv).hide()}reset(){this.clearFeedback()}init(){var e,t;eBookConfig.useRunestoneServices?(e=`${eBookConfig.app}/books/published/${eBookConfig.basecourse}`,t=e+"/_static"):(e="",t="/_static");let n={locateFile:e=>`${t}/${e}`};var r=this.hparsons;l()(n).then((function(t){if(r.dburl){r.dburl.startsWith("/_static")&&(r.dburl=`${e}${r.dburl}`),$(r.runButton).attr("disabled","disabled");let o=$(r.runButton).text();if($(r.runButton).text($.i18n("msg_activecode_load_db")),r.dburl in d)return"loading"==d[r.dburl].status?void d[r.dburl].xWaitFor.done((function(){r.db=d[r.dburl].dbObject,$(r.runButton).removeAttr("disabled"),$(r.runButton).text(o)})):(r.db=d[r.dburl].dbObject,$(r.runButton).removeAttr("disabled"),void $(r.runButton).text(o));d[r.dburl]={status:"loading",xWaitFor:jQuery.Deferred()};var n=new XMLHttpRequest;n.open("GET",r.dburl,!0),n.responseType="arraybuffer",n.onload=e=>{var i=new Uint8Array(n.response);r.db=new t.Database(i),d[r.dburl].dbObject=r.db,$(r.runButton).text(o),$(r.runButton).removeAttr("disabled"),d[r.dburl].db=i,d[r.dburl].status="ready",d[r.dburl].xWaitFor.resolve()},n.send()}else r.db=new t.Database}))}async runButtonHandler(){this.hparsons.runButton.disabled=!0;try{await this.runProg()}catch(e){console.log(`there was an error ${e} running the code`)}this.logCurrentAnswer(),this.renderFeedback(),this.hparsons.runButton.disabled=!1}async runProg(){let e=this.hparsons.divid+"_sql_out",t=document.getElementById(e);t&&t.parentElement.removeChild(t),$(this.output).text("");let n=await this.buildProg();if(!this.hparsons.db)return void $(this.output).text(`Error: Database not initialized! DBURL: ${this.dburl}`);let r=this.hparsons.db.iterateStatements(n);this.results=[];try{for(let e of r){let t=e.getColumnNames();if(t.length>0){let n=[];for(;e.step();)n.push(e.get());this.results.push({status:"success",columns:t,values:n,rowcount:n.length})}else{let t=e.getNormalizedSQL().substr(0,6).toLowerCase();e.step(),"insert"===t||"update"===t||"delete"===t?this.results.push({status:"success",operation:t,rowcount:this.db.getRowsModified()}):this.results.push({status:"success"})}}}catch(e){this.results.push({status:"failure",message:e.toString(),sql:r.getRemainingSQL()})}0===this.results.length&&this.results.push({status:"failure",message:"No queries submitted."}),t=document.createElement("div"),t.id=e,this.outDiv.appendChild(t),$(this.outDiv).show();let o=this.results;for(let e of o){let n=document.createElement("div");if(n.setAttribute("class","hp_sql_result"),t.appendChild(n),"success"===e.status)if(e.columns){let t=document.createElement("div");n.appendChild(t);let r=350;o.length>1&&(r=200),h(e,t,r);let i=document.createElement("pre"),a=1!==e.rowcount?" rows ":" row ",s=""+e.rowcount+a+"returned";e.rowcount>100&&(s+=" (only first 100 rows displayed)"),s+=".",i.textContent=s,i.setAttribute("class","hp_sql_result_success"),n.appendChild(i)}else if(e.rowcount){let t=document.createElement("pre"),r=e.operation;r+="e"===r.charAt(r.length-1)?"d.":"ed.";let o=1!==e.rowcount?" rows ":" row ";t.textContent=""+e.rowcount+o+r,t.setAttribute("class","hp_sql_result_success"),n.appendChild(t)}else{let e=document.createElement("pre");e.textContent="Operation succeeded.",e.setAttribute("class","hp_sql_result_success"),n.appendChild(e)}else{let t=document.createElement("pre");t.textContent=e.message,t.setAttribute("class","hp_sql_result_failure"),n.appendChild(t)}}return this.hparsons.suffix?this.testResult=this.autograde(this.results[this.results.length-1]):$(this.output).css("visibility","hidden"),Promise.resolve("done")}async buildProg(){var e;return e=this.hparsons.textentry?this.hparsons.hparsonsInput.getCurrentInput():this.hparsons.hparsonsInput.getParsonsTextArray().join(" ")+"\n",Promise.resolve(e)}async logCurrentAnswer(e){if(this.unit_results){let t={event:"unittest",div_id:this.hparsons.divid,course:eBookConfig.course,act:this.unit_results};void 0!==e&&(t.sid=e),await this.hparsons.logBookEvent(t)}}autograde(e){var t=this.hparsons.suffix.split(/\n/);this.passed=0,this.failed=0;var n="";t=t.filter((function(e){return e.indexOf("assert")>-1}));for(let r of t){let t=r.split(/\s+/);t.shift();let o=t.shift(),i=t.shift(),a=t.join(" "),[s,l]=o.split(",");n+=this.testOneAssert(s,l,i,a,e),n+="\n"}let r=100*this.passed/(this.passed+this.failed);return r=r.toLocaleString(void 0,{maximumFractionDigits:2}),n+=`You passed ${this.passed} out of ${this.passed+this.failed} tests for ${r}%`,this.unit_results=`percent:${r}:passed:${this.passed}:failed:${this.failed}`,n}testOneAssert(e,t,n,r,o){let i,a="";try{i=o.values[e][t]}catch(n){return"NO_DATA"==r?(this.passed++,a=`Passed: No data in row ${e}, column ${t}`,a):(a=`Failed: Not enough data to check row ${e} or column ${t}`,a)}return{"==":function(e,t){return e==t},"!=":function(e,t){return e!=t},">":function(e,t){return e>t},"<":function(e,t){return e>t}}[n](i,r)?(a=`Pass: ${i} ${n} ${r} in row ${e} column ${o.columns[t]}`,this.passed++):(a=`Failed ${i} ${n} ${r} in row ${e} column ${o.columns[t]}`,this.failed++),a}}function h(e,t,n){let r,o=e.values;0===o.length&&(o=[e.columns.map((e=>null))],r=[0]);var i=new c.Z(t,{data:o,trimRows:r,width:"100%",height:n,autoRowSize:!0,autoColumnSize:{useHeaders:!0},rowHeaders:!1,colHeaders:e.columns,editor:!1,maxRows:100,filters:!1,dropdownMenu:!1,licenseKey:"non-commercial-and-evaluation"});let a=40;if(e.values.length>0)for(let e=0;e<o.length&&(a+=i.getRowHeight(e),!(a>n));e++);return i.updateSettings({height:a}),i}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var y=_(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),w=_(/Edge/i),E=_(/firefox/i),x=_(/safari/i)&&!_(/chrome/i)&&!_(/android/i),k=_(/iP(ad|od|hone)/i),S=_(/chrome/i)&&_(/android/i),A={capture:!1,passive:!1};function C(e,t,n){e.addEventListener(t,n,!y&&A)}function N(e,t,n){e.removeEventListener(t,n,!y&&A)}function T(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function j(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function O(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&T(e,t):T(e,t))||r&&e===n)return e;if(e===n)break}while(e=j(e))}return null}var D,M=/\s+/g;function I(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(M," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(M," ")}}function B(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function R(e,t){var n="";if("string"==typeof e)n=e;else do{var r=B(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function L(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function P(){return document.scrollingElement||document.documentElement}function z(e,t,n,r,o){if(e.getBoundingClientRect||e===window){var i,a,s,l,c,d,u;if(e!==window&&e.parentNode&&e!==P()?(a=(i=e.getBoundingClientRect()).top,s=i.left,l=i.bottom,c=i.right,d=i.height,u=i.width):(a=0,s=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,u=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!y))do{if(o&&o.getBoundingClientRect&&("none"!==B(o,"transform")||n&&"static"!==B(o,"position"))){var h=o.getBoundingClientRect();a-=h.top+parseInt(B(o,"border-top-width")),s-=h.left+parseInt(B(o,"border-left-width")),l=a+i.height,c=s+i.width;break}}while(o=o.parentNode);if(r&&e!==window){var g=R(o||e),p=g&&g.a,f=g&&g.d;g&&(l=(a/=f)+(d/=f),c=(s/=p)+(u/=p))}return{top:a,left:s,bottom:l,right:c,width:u,height:d}}}function H(e,t,n){for(var r=W(e,!0),o=z(e)[t];r;){var i=z(r)[n];if(!("top"===n||"left"===n?o>=i:o<=i))return r;if(r===P())break;r=W(r,!1)}return!1}function F(e,t,n,r){for(var o=0,i=0,a=e.children;i<a.length;){if("none"!==a[i].style.display&&a[i]!==Ke.ghost&&(r||a[i]!==Ke.dragged)&&O(a[i],n.draggable,e,!1)){if(o===t)return a[i];o++}i++}return null}function X(e,t){for(var n=e.lastElementChild;n&&(n===Ke.ghost||"none"===B(n,"display")||t&&!T(n,t));)n=n.previousElementSibling;return n||null}function U(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Ke.clone||t&&!T(e,t)||n++;return n}function Y(e){var t=0,n=0,r=P();if(e)do{var o=R(e),i=o.a,a=o.d;t+=e.scrollLeft*i,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function W(e,t){if(!e||!e.getBoundingClientRect)return P();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=B(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return P();if(r||t)return n;r=!0}}}while(n=n.parentNode);return P()}function q(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function G(e,t){return function(){if(!D){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),D=setTimeout((function(){D=void 0}),t)}}}function K(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Z(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var V="Sortable"+(new Date).getTime();function J(){var e,t=[];return{captureAnimationState:function(){t=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(e){if("none"!==B(e,"display")&&e!==Ke.ghost){t.push({target:e,rect:z(e)});var n=p({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=R(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var o=!1,i=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,s=z(n),l=n.prevFromRect,c=n.prevToRect,d=e.rect,u=R(n,!0);u&&(s.top-=u.f,s.left-=u.e),n.toRect=s,n.thisAnimationDuration&&q(l,s)&&!q(a,s)&&(d.top-s.top)/(d.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(d,l,c,r.options)),q(s,a)||(n.prevFromRect=a,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,d,s,t)),t&&(o=!0,i=Math.max(i,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),o?e=setTimeout((function(){"function"==typeof n&&n()}),i):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){B(e,"transition",""),B(e,"transform","");var o=R(this.el),i=o&&o.a,a=o&&o.d,s=(t.left-n.left)/(i||1),l=(t.top-n.top)/(a||1);e.animatingX=!!s,e.animatingY=!!l,B(e,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),B(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),B(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){B(e,"transition",""),B(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}var Q=[],ee={initializeByDefault:!0},te={mount:function(e){for(var t in ee)ee.hasOwnProperty(t)&&!(t in e)&&(e[t]=ee[t]);Q.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),Q.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=e+"Global";Q.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][o]&&t[r.pluginName][o](p({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](p({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var o in Q.forEach((function(r){var o=r.pluginName;if(e.options[o]||r.initializeByDefault){var i=new r(e,t,e.options);i.sortable=e,i.options=e.options,e[o]=i,b(n,i.defaults)}})),e.options)if(e.options.hasOwnProperty(o)){var i=this.modifyOption(e,o,e.options[o]);void 0!==i&&(e.options[o]=i)}},getEventProperties:function(e,t){var n={};return Q.forEach((function(r){"function"==typeof r.eventProperties&&b(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return Q.forEach((function(o){e[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[t]&&(r=o.optionListeners[t].call(e[o.pluginName],n))})),r}},ne=["evt"],re=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,o=v(n,ne);te.pluginEvent.bind(Ke)(e,t,p({dragEl:ie,parentEl:ae,ghostEl:se,rootEl:le,nextEl:ce,lastDownEl:de,cloneEl:ue,cloneHidden:he,dragStarted:Se,putSortable:ve,activeSortable:Ke.active,originalEvent:r,oldIndex:ge,oldDraggableIndex:fe,newIndex:pe,newDraggableIndex:me,hideGhostForTarget:Ye,unhideGhostForTarget:We,cloneNowHidden:function(){he=!0},cloneNowShown:function(){he=!1},dispatchSortableEvent:function(e){oe({sortable:t,name:e,originalEvent:r})}},o))};function oe(e){!function(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,i=e.cloneEl,a=e.toEl,s=e.fromEl,l=e.oldIndex,c=e.newIndex,d=e.oldDraggableIndex,u=e.newDraggableIndex,h=e.originalEvent,g=e.putSortable,f=e.extraEventProperties;if(t=t||n&&n[V]){var m,b=t.options,v="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||y||w?(m=document.createEvent("Event")).initEvent(r,!0,!0):m=new CustomEvent(r,{bubbles:!0,cancelable:!0}),m.to=a||n,m.from=s||n,m.item=o||n,m.clone=i,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=d,m.newDraggableIndex=u,m.originalEvent=h,m.pullMode=g?g.lastPutMode:void 0;var _=p(p({},f),te.getEventProperties(r,t));for(var E in _)m[E]=_[E];n&&n.dispatchEvent(m),b[v]&&b[v].call(t,m)}}(p({putSortable:ve,cloneEl:ue,targetEl:ie,rootEl:le,oldIndex:ge,oldDraggableIndex:fe,newIndex:pe,newDraggableIndex:me},e))}var ie,ae,se,le,ce,de,ue,he,ge,pe,fe,me,be,ve,_e,ye,we,Ee,xe,ke,Se,Ae,Ce,Ne,Te,je=!1,Oe=!1,De=[],Me=!1,Ie=!1,Be=[],Re=!1,$e=[],Le="undefined"!=typeof document,Pe=k,ze=w||y?"cssFloat":"float",He=Le&&!S&&!k&&"draggable"in document.createElement("div"),Fe=function(){if(Le){if(y)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Xe=function(e,t){var n=B(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=F(e,0,t),i=F(e,1,t),a=o&&B(o),s=i&&B(i),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+z(o).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+z(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&"none"!==a.float){var d="left"===a.float?"left":"right";return!i||"both"!==s.clear&&s.clear!==d?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=r&&"none"===n[ze]||i&&"none"===n[ze]&&l+c>r)?"vertical":"horizontal"},Ue=function(e){function t(e,n){return function(r,o,i,a){var s=r.options.group.name&&o.options.group.name&&r.options.group.name===o.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(r,o,i,a),n)(r,o,i,a);var l=(n?r:o).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},r=e.group;r&&"object"==f(r)||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},Ye=function(){!Fe&&se&&B(se,"display","none")},We=function(){!Fe&&se&&B(se,"display","")};Le&&document.addEventListener("click",(function(e){if(Oe)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Oe=!1,!1}),!0);var qe=function(e){if(ie){e=e.touches?e.touches[0]:e;var t=(o=e.clientX,i=e.clientY,De.some((function(e){var t=e[V].options.emptyInsertThreshold;if(t&&!X(e)){var n=z(e),r=o>=n.left-t&&o<=n.right+t,s=i>=n.top-t&&i<=n.bottom+t;return r&&s?a=e:void 0}})),a);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[V]._onDragOver(n)}}var o,i,a},Ge=function(e){ie&&ie.parentNode[V]._isOutsideThisEl(e.target)};function Ke(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=b({},t),e[V]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Xe(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Ke.supportPointer&&"PointerEvent"in window&&!x,emptyInsertThreshold:5};for(var r in te.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var o in Ue(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&He,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?C(e,"pointerdown",this._onTapStart):(C(e,"mousedown",this._onTapStart),C(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(C(e,"dragover",this),C(e,"dragenter",this)),De.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),b(this,J())}function Ze(e,t,n,r,o,i,a,s){var l,c,d=e[V],u=d.options.onMove;return!window.CustomEvent||y||w?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=o||t,l.relatedRect=i||z(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),u&&(c=u.call(d,l,a)),c}function Ve(e){e.draggable=!1}function Je(){Re=!1}function Qe(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function et(e){return setTimeout(e,0)}function tt(e){return clearTimeout(e)}Ke.prototype={constructor:Ke,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Ae=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,ie):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,o=r.preventOnFilter,i=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=r.filter;if(function(e){$e.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&$e.push(r)}}(n),!ie&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||r.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!x||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=O(s,r.draggable,n,!1))&&s.animated||de===s)){if(ge=U(s),fe=U(s,r.draggable),"function"==typeof c){if(c.call(this,e,s,this))return oe({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),re("filter",t,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(r){if(r=O(l,r.trim(),n,!1))return oe({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),re("filter",t,{evt:e}),!0}))))return void(o&&e.cancelable&&e.preventDefault());r.handle&&!O(l,r.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var r,o=this,i=o.el,a=o.options,s=i.ownerDocument;if(n&&!ie&&n.parentNode===i){var l=z(n);if(le=i,ae=(ie=n).parentNode,ce=ie.nextSibling,de=n,be=a.group,Ke.dragged=ie,_e={target:ie,clientX:(t||e).clientX,clientY:(t||e).clientY},xe=_e.clientX-l.left,ke=_e.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,ie.style["will-change"]="all",r=function(){re("delayEnded",o,{evt:e}),Ke.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!E&&o.nativeDraggable&&(ie.draggable=!0),o._triggerDragStart(e,t),oe({sortable:o,name:"choose",originalEvent:e}),I(ie,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){L(ie,e.trim(),Ve)})),C(s,"dragover",qe),C(s,"mousemove",qe),C(s,"touchmove",qe),C(s,"mouseup",o._onDrop),C(s,"touchend",o._onDrop),C(s,"touchcancel",o._onDrop),E&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ie.draggable=!0),re("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(w||y))r();else{if(Ke.eventCanceled)return void this._onDrop();C(s,"mouseup",o._disableDelayedDrag),C(s,"touchend",o._disableDelayedDrag),C(s,"touchcancel",o._disableDelayedDrag),C(s,"mousemove",o._delayedDragTouchMoveHandler),C(s,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&C(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ie&&Ve(ie),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;N(e,"mouseup",this._disableDelayedDrag),N(e,"touchend",this._disableDelayedDrag),N(e,"touchcancel",this._disableDelayedDrag),N(e,"mousemove",this._delayedDragTouchMoveHandler),N(e,"touchmove",this._delayedDragTouchMoveHandler),N(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?C(document,"pointermove",this._onTouchMove):C(document,t?"touchmove":"mousemove",this._onTouchMove):(C(ie,"dragend",this),C(le,"dragstart",this._onDragStart));try{document.selection?et((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(je=!1,le&&ie){re("dragStarted",this,{evt:t}),this.nativeDraggable&&C(document,"dragover",Ge);var n=this.options;!e&&I(ie,n.dragClass,!1),I(ie,n.ghostClass,!0),Ke.active=this,e&&this._appendGhost(),oe({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ye){this._lastX=ye.clientX,this._lastY=ye.clientY,Ye();for(var e=document.elementFromPoint(ye.clientX,ye.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ye.clientX,ye.clientY))!==t;)t=e;if(ie.parentNode[V]._isOutsideThisEl(e),t)do{if(t[V]&&t[V]._onDragOver({clientX:ye.clientX,clientY:ye.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);We()}},_onTouchMove:function(e){if(_e){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,i=se&&R(se,!0),a=se&&i&&i.a,s=se&&i&&i.d,l=Pe&&Te&&Y(Te),c=(o.clientX-_e.clientX+r.x)/(a||1)+(l?l[0]-Be[0]:0)/(a||1),d=(o.clientY-_e.clientY+r.y)/(s||1)+(l?l[1]-Be[1]:0)/(s||1);if(!Ke.active&&!je){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(se){i?(i.e+=c-(we||0),i.f+=d-(Ee||0)):i={a:1,b:0,c:0,d:1,e:c,f:d};var u="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");B(se,"webkitTransform",u),B(se,"mozTransform",u),B(se,"msTransform",u),B(se,"transform",u),we=c,Ee=d,ye=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!se){var e=this.options.fallbackOnBody?document.body:le,t=z(ie,!0,Pe,!0,e),n=this.options;if(Pe){for(Te=e;"static"===B(Te,"position")&&"none"===B(Te,"transform")&&Te!==document;)Te=Te.parentNode;Te!==document.body&&Te!==document.documentElement?(Te===document&&(Te=P()),t.top+=Te.scrollTop,t.left+=Te.scrollLeft):Te=P(),Be=Y(Te)}I(se=ie.cloneNode(!0),n.ghostClass,!1),I(se,n.fallbackClass,!0),I(se,n.dragClass,!0),B(se,"transition",""),B(se,"transform",""),B(se,"box-sizing","border-box"),B(se,"margin",0),B(se,"top",t.top),B(se,"left",t.left),B(se,"width",t.width),B(se,"height",t.height),B(se,"opacity","0.8"),B(se,"position",Pe?"absolute":"fixed"),B(se,"zIndex","100000"),B(se,"pointerEvents","none"),Ke.ghost=se,e.appendChild(se),B(se,"transform-origin",xe/parseInt(se.style.width)*100+"% "+ke/parseInt(se.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,o=n.options;re("dragStart",this,{evt:e}),Ke.eventCanceled?this._onDrop():(re("setupClone",this),Ke.eventCanceled||((ue=Z(ie)).draggable=!1,ue.style["will-change"]="",this._hideClone(),I(ue,this.options.chosenClass,!1),Ke.clone=ue),n.cloneId=et((function(){re("clone",n),Ke.eventCanceled||(n.options.removeCloneOnHide||le.insertBefore(ue,ie),n._hideClone(),oe({sortable:n,name:"clone"}))})),!t&&I(ie,o.dragClass,!0),t?(Oe=!0,n._loopId=setInterval(n._emulateDragOver,50)):(N(document,"mouseup",n._onDrop),N(document,"touchend",n._onDrop),N(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,ie)),C(document,"drop",n),B(ie,"transform","translateZ(0)")),je=!0,n._dragStartId=et(n._dragStarted.bind(n,t,e)),C(document,"selectstart",n),Se=!0,x&&B(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,o,i=this.el,a=e.target,s=this.options,l=s.group,c=Ke.active,d=be===l,u=s.sort,h=ve||c,g=this,f=!1;if(!Re){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=O(a,s.draggable,i,!0),j("dragOver"),Ke.eventCanceled)return f;if(ie.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||g._ignoreWhileAnimating===a)return M(!1);if(Oe=!1,c&&!s.disabled&&(d?u||(r=ae!==le):ve===this||(this.lastPutMode=be.checkPull(this,c,ie,e))&&l.checkPut(this,c,ie,e))){if(o="vertical"===this._getDirection(e,a),t=z(ie),j("dragOverValid"),Ke.eventCanceled)return f;if(r)return ae=le,D(),this._hideClone(),j("revert"),Ke.eventCanceled||(ce?le.insertBefore(ie,ce):le.appendChild(ie)),M(!0);var m=X(i,s.draggable);if(!m||function(e,t,n){var r=z(X(n.el,n.options.draggable));return t?e.clientX>r.right+10||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+10}(e,o,this)&&!m.animated){if(m===ie)return M(!1);if(m&&i===e.target&&(a=m),a&&(n=z(a)),!1!==Ze(le,i,ie,t,a,n,e,!!a))return D(),i.appendChild(ie),ae=i,R(),M(!0)}else if(m&&function(e,t,n){var r=z(F(n.el,0,n.options,!0));return t?e.clientX<r.left-10||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-10||e.clientY<r.bottom&&e.clientX<r.left}(e,o,this)){var b=F(i,0,s,!0);if(b===ie)return M(!1);if(n=z(a=b),!1!==Ze(le,i,ie,t,a,n,e,!1))return D(),i.insertBefore(ie,b),ae=i,R(),M(!0)}else if(a.parentNode===i){n=z(a);var v,_,y,w=ie.parentNode!==i,E=!function(e,t,n){var r=n?e.left:e.top,o=n?e.right:e.bottom,i=n?e.width:e.height,a=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return r===a||o===s||r+i/2===a+l/2}(ie.animated&&ie.toRect||t,a.animated&&a.toRect||n,o),x=o?"top":"left",k=H(a,"top","top")||H(ie,"top","top"),S=k?k.scrollTop:void 0;if(Ae!==a&&(_=n[x],Me=!1,Ie=!E&&s.invertSwap||w),v=function(e,t,n,r,o,i,a,s){var l=r?e.clientY:e.clientX,c=r?n.height:n.width,d=r?n.top:n.left,u=r?n.bottom:n.right,h=!1;if(!a)if(s&&Ne<c*o){if(!Me&&(1===Ce?l>d+c*i/2:l<u-c*i/2)&&(Me=!0),Me)h=!0;else if(1===Ce?l<d+Ne:l>u-Ne)return-Ce}else if(l>d+c*(1-o)/2&&l<u-c*(1-o)/2)return function(e){return U(ie)<U(e)?1:-1}(t);return(h=h||a)&&(l<d+c*i/2||l>u-c*i/2)?l>d+c/2?1:-1:0}(e,a,n,o,E?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,Ie,Ae===a),0!==v){var A=U(ie);do{A-=v,y=ae.children[A]}while(y&&("none"===B(y,"display")||y===se))}if(0===v||y===a)return M(!1);Ae=a,Ce=v;var C=a.nextElementSibling,N=!1,T=Ze(le,i,ie,t,a,n,e,N=1===v);if(!1!==T)return 1!==T&&-1!==T||(N=1===T),Re=!0,setTimeout(Je,30),D(),N&&!C?i.appendChild(ie):a.parentNode.insertBefore(ie,N?C:a),k&&K(k,0,S-k.scrollTop),ae=ie.parentNode,void 0===_||Ie||(Ne=Math.abs(_-z(a)[x])),R(),M(!0)}if(i.contains(ie))return M(!1)}return!1}function j(s,l){re(s,g,p({evt:e,isOwner:d,axis:o?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:u,fromSortable:h,target:a,completed:M,onMove:function(n,r){return Ze(le,i,ie,t,n,z(n),e,r)},changed:R},l))}function D(){j("dragOverAnimationCapture"),g.captureAnimationState(),g!==h&&h.captureAnimationState()}function M(t){return j("dragOverCompleted",{insertion:t}),t&&(d?c._hideClone():c._showClone(g),g!==h&&(I(ie,ve?ve.options.ghostClass:c.options.ghostClass,!1),I(ie,s.ghostClass,!0)),ve!==g&&g!==Ke.active?ve=g:g===Ke.active&&ve&&(ve=null),h===g&&(g._ignoreWhileAnimating=a),g.animateAll((function(){j("dragOverAnimationComplete"),g._ignoreWhileAnimating=null})),g!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(a===ie&&!ie.animated||a===i&&!a.animated)&&(Ae=null),s.dragoverBubble||e.rootEl||a===document||(ie.parentNode[V]._isOutsideThisEl(e.target),!t&&qe(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),f=!0}function R(){pe=U(ie),me=U(ie,s.draggable),oe({sortable:g,name:"change",toEl:i,newIndex:pe,newDraggableIndex:me,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){N(document,"mousemove",this._onTouchMove),N(document,"touchmove",this._onTouchMove),N(document,"pointermove",this._onTouchMove),N(document,"dragover",qe),N(document,"mousemove",qe),N(document,"touchmove",qe)},_offUpEvents:function(){var e=this.el.ownerDocument;N(e,"mouseup",this._onDrop),N(e,"touchend",this._onDrop),N(e,"pointerup",this._onDrop),N(e,"touchcancel",this._onDrop),N(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;pe=U(ie),me=U(ie,n.draggable),re("drop",this,{evt:e}),ae=ie&&ie.parentNode,pe=U(ie),me=U(ie,n.draggable),Ke.eventCanceled||(je=!1,Ie=!1,Me=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),tt(this.cloneId),tt(this._dragStartId),this.nativeDraggable&&(N(document,"drop",this),N(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),x&&B(document.body,"user-select",""),B(ie,"transform",""),e&&(Se&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),se&&se.parentNode&&se.parentNode.removeChild(se),(le===ae||ve&&"clone"!==ve.lastPutMode)&&ue&&ue.parentNode&&ue.parentNode.removeChild(ue),ie&&(this.nativeDraggable&&N(ie,"dragend",this),Ve(ie),ie.style["will-change"]="",Se&&!je&&I(ie,ve?ve.options.ghostClass:this.options.ghostClass,!1),I(ie,this.options.chosenClass,!1),oe({sortable:this,name:"unchoose",toEl:ae,newIndex:null,newDraggableIndex:null,originalEvent:e}),le!==ae?(pe>=0&&(oe({rootEl:ae,name:"add",toEl:ae,fromEl:le,originalEvent:e}),oe({sortable:this,name:"remove",toEl:ae,originalEvent:e}),oe({rootEl:ae,name:"sort",toEl:ae,fromEl:le,originalEvent:e}),oe({sortable:this,name:"sort",toEl:ae,originalEvent:e})),ve&&ve.save()):pe!==ge&&pe>=0&&(oe({sortable:this,name:"update",toEl:ae,originalEvent:e}),oe({sortable:this,name:"sort",toEl:ae,originalEvent:e})),Ke.active&&(null!=pe&&-1!==pe||(pe=ge,me=fe),oe({sortable:this,name:"end",toEl:ae,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){re("nulling",this),le=ie=ae=se=ce=ue=de=he=_e=ye=Se=pe=me=ge=fe=Ae=Ce=ve=be=Ke.dragged=Ke.ghost=Ke.clone=Ke.active=null,$e.forEach((function(e){e.checked=!0})),$e.length=we=Ee=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ie&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,o=n.length,i=this.options;r<o;r++)O(e=n[r],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||Qe(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach((function(e,t){var o=r.children[t];O(o,this.options.draggable,r,!1)&&(n[e]=o)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return O(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=te.modifyOption(this,e,t);n[e]=void 0!==r?r:t,"group"===e&&Ue(n)},destroy:function(){re("destroy",this);var e=this.el;e[V]=null,N(e,"mousedown",this._onTapStart),N(e,"touchstart",this._onTapStart),N(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(N(e,"dragover",this),N(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),De.splice(De.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!he){if(re("hideClone",this),Ke.eventCanceled)return;B(ue,"display","none"),this.options.removeCloneOnHide&&ue.parentNode&&ue.parentNode.removeChild(ue),he=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(he){if(re("showClone",this),Ke.eventCanceled)return;ie.parentNode!=le||this.options.group.revertClone?ce?le.insertBefore(ue,ce):le.appendChild(ue):le.insertBefore(ue,ie),this.options.group.revertClone&&this.animate(ie,ue),B(ue,"display",""),he=!1}}else this._hideClone()}},Le&&C(document,"touchmove",(function(e){(Ke.active||je)&&e.cancelable&&e.preventDefault()})),Ke.utils={on:C,off:N,css:B,find:L,is:function(e,t){return!!O(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:G,closest:O,toggleClass:I,clone:Z,index:U,nextTick:et,cancelNextTick:tt,detectDirection:Xe,getChild:F},Ke.get=function(e){return e[V]},Ke.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Ke.utils=p(p({},Ke.utils),e.utils)),te.mount(e)}))},Ke.create=function(e,t){return new Ke(e,t)},Ke.version="1.14.0";var nt,rt,ot,it,at,st,lt=[],ct=!1;function dt(){lt.forEach((function(e){clearInterval(e.pid)})),lt=[]}function ut(){clearInterval(st)}var ht,gt=G((function(e,t,n,r){if(t.scroll){var o,i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=P(),d=!1;rt!==n&&(rt=n,dt(),nt=t.scroll,o=t.scrollFn,!0===nt&&(nt=W(n,!0)));var u=0,h=nt;do{var g=h,p=z(g),f=p.top,m=p.bottom,b=p.left,v=p.right,_=p.width,y=p.height,w=void 0,E=void 0,x=g.scrollWidth,k=g.scrollHeight,S=B(g),A=g.scrollLeft,C=g.scrollTop;g===c?(w=_<x&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),E=y<k&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(w=_<x&&("auto"===S.overflowX||"scroll"===S.overflowX),E=y<k&&("auto"===S.overflowY||"scroll"===S.overflowY));var N=w&&(Math.abs(v-i)<=s&&A+_<x)-(Math.abs(b-i)<=s&&!!A),T=E&&(Math.abs(m-a)<=s&&C+y<k)-(Math.abs(f-a)<=s&&!!C);if(!lt[u])for(var j=0;j<=u;j++)lt[j]||(lt[j]={});lt[u].vx==N&&lt[u].vy==T&&lt[u].el===g||(lt[u].el=g,lt[u].vx=N,lt[u].vy=T,clearInterval(lt[u].pid),0==N&&0==T||(d=!0,lt[u].pid=setInterval(function(){r&&0===this.layer&&Ke.active._onTouchMove(at);var t=lt[this.layer].vy?lt[this.layer].vy*l:0,n=lt[this.layer].vx?lt[this.layer].vx*l:0;"function"==typeof o&&"continue"!==o.call(Ke.dragged.parentNode[V],n,t,e,at,lt[this.layer].el)||K(lt[this.layer].el,n,t)}.bind({layer:u}),24))),u++}while(t.bubbleScroll&&h!==c&&(h=W(h,!1)));ct=d}}),30),pt=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,o=e.activeSortable,i=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||o;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(d)&&(i("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function ft(){}function mt(){}ft.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=F(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:pt},b(ft,{pluginName:"revertOnSpill"}),mt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:pt},b(mt,{pluginName:"removeOnSpill"}),Ke.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?C(document,"dragover",this._handleAutoScroll):this.options.supportPointer?C(document,"pointermove",this._handleFallbackAutoScroll):t.touches?C(document,"touchmove",this._handleFallbackAutoScroll):C(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?N(document,"dragover",this._handleAutoScroll):(N(document,"pointermove",this._handleFallbackAutoScroll),N(document,"touchmove",this._handleFallbackAutoScroll),N(document,"mousemove",this._handleFallbackAutoScroll)),ut(),dt(),clearTimeout(D),D=void 0},nulling:function(){at=rt=nt=ct=st=ot=it=null,lt.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(r,o);if(at=e,t||this.options.forceAutoScrollFallback||w||y||x){gt(e,this.options,i,t);var a=W(i,!0);!ct||st&&r===ot&&o===it||(st&&ut(),st=setInterval((function(){var i=W(document.elementFromPoint(r,o),!0);i!==a&&(a=i,dt()),gt(e,n.options,i,t)}),10),ot=r,it=o)}else{if(!this.options.bubbleScroll||W(i,!0)===P())return void dt();gt(e,this.options,W(i,!1),!1)}}},b(e,{pluginName:"scroll",initializeByDefault:!0})}),Ke.mount(mt,ft),function(e){var t;(t=e.ParsonsInputAction||(e.ParsonsInputAction={})).ADD="add",t.MOVE="move",t.REMOVE="remove"}(ht||(ht={}));var bt={exports:{}};function vt(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach((function(t){var n=e[t];"object"!=typeof n||Object.isFrozen(n)||vt(n)})),e}bt.exports=vt,bt.exports.default=vt;class _t{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function yt(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function wt(e,...t){const n=Object.create(null);for(const t in e)n[t]=e[t];return t.forEach((function(e){for(const t in e)n[t]=e[t]})),n}const Et=e=>!!e.scope||e.sublanguage&&e.language;class xt{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=yt(e)}openNode(e){if(!Et(e))return;let t="";t=e.sublanguage?`language-${e.language}`:((e,{prefix:t})=>{if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map(((e,t)=>`${e}${"_".repeat(t+1)}`))].join(" ")}return`${t}${e}`})(e.scope,{prefix:this.classPrefix}),this.span(t)}closeNode(e){Et(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const kt=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class St{constructor(){this.rootNode=kt(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=kt({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach((t=>this._walk(e,t))),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every((e=>"string"==typeof e))?e.children=[e.children.join("")]:e.children.forEach((e=>{St._collapse(e)})))}}class At extends St{constructor(e){super(),this.options=e}addKeyword(e,t){""!==e&&(this.openNode(t),this.addText(e),this.closeNode())}addText(e){""!==e&&this.add(e)}addSublanguage(e,t){const n=e.root;n.sublanguage=!0,n.language=t,this.add(n)}toHTML(){return new xt(this,this.options).value()}finalize(){return!0}}function Ct(e){return e?"string"==typeof e?e:e.source:null}function Nt(e){return Ot("(?=",e,")")}function Tt(e){return Ot("(?:",e,")*")}function jt(e){return Ot("(?:",e,")?")}function Ot(...e){return e.map((e=>Ct(e))).join("")}function Dt(...e){const t=function(e){const t=e[e.length-1];return"object"==typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(e);return"("+(t.capture?"":"?:")+e.map((e=>Ct(e))).join("|")+")"}function Mt(e){return new RegExp(e.toString()+"|").exec("").length-1}const It=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function Bt(e,{joinWith:t}){let n=0;return e.map((e=>{n+=1;const t=n;let r=Ct(e),o="";for(;r.length>0;){const e=It.exec(r);if(!e){o+=r;break}o+=r.substring(0,e.index),r=r.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?o+="\\"+String(Number(e[1])+t):(o+=e[0],"("===e[0]&&n++)}return o})).map((e=>`(${e})`)).join(t)}const Rt="[a-zA-Z]\\w*",$t="[a-zA-Z_]\\w*",Lt="\\b\\d+(\\.\\d+)?",Pt="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",zt="\\b(0b[01]+)",Ht={begin:"\\\\[\\s\\S]",relevance:0},Ft={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Ht]},Xt={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Ht]},Ut=function(e,t,n={}){const r=wt({scope:"comment",begin:e,end:t,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const o=Dt("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:Ot(/[ ]+/,"(",o,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},Yt=Ut("//","$"),Wt=Ut("/\\*","\\*/"),qt=Ut("#","$"),Gt={scope:"number",begin:Lt,relevance:0},Kt={scope:"number",begin:Pt,relevance:0},Zt={scope:"number",begin:zt,relevance:0},Vt={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[Ht,{begin:/\[/,end:/\]/,relevance:0,contains:[Ht]}]}]},Jt={scope:"title",begin:Rt,relevance:0},Qt={scope:"title",begin:$t,relevance:0},en={begin:"\\.\\s*"+$t,relevance:0};var tn=Object.freeze({__proto__:null,MATCH_NOTHING_RE:/\b\B/,IDENT_RE:Rt,UNDERSCORE_IDENT_RE:$t,NUMBER_RE:Lt,C_NUMBER_RE:Pt,BINARY_NUMBER_RE:zt,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=Ot(t,/.*\b/,e.binary,/\b.*/)),wt({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},BACKSLASH_ESCAPE:Ht,APOS_STRING_MODE:Ft,QUOTE_STRING_MODE:Xt,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},COMMENT:Ut,C_LINE_COMMENT_MODE:Yt,C_BLOCK_COMMENT_MODE:Wt,HASH_COMMENT_MODE:qt,NUMBER_MODE:Gt,C_NUMBER_MODE:Kt,BINARY_NUMBER_MODE:Zt,REGEXP_MODE:Vt,TITLE_MODE:Jt,UNDERSCORE_TITLE_MODE:Qt,METHOD_GUARD:en,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})}});function nn(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function rn(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function on(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=nn,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function an(e,t){Array.isArray(e.illegal)&&(e.illegal=Dt(...e.illegal))}function sn(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function ln(e,t){void 0===e.relevance&&(e.relevance=1)}const cn=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach((t=>{delete e[t]})),e.keywords=n.keywords,e.begin=Ot(n.beforeMatch,Nt(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},dn=["of","and","for","in","not","or","if","then","parent","list","value"];function un(e,t,n="keyword"){const r=Object.create(null);return"string"==typeof e?o(n,e.split(" ")):Array.isArray(e)?o(n,e):Object.keys(e).forEach((function(n){Object.assign(r,un(e[n],t,n))})),r;function o(e,n){t&&(n=n.map((e=>e.toLowerCase()))),n.forEach((function(t){const n=t.split("|");r[n[0]]=[e,hn(n[0],n[1])]}))}}function hn(e,t){return t?Number(t):function(e){return dn.includes(e.toLowerCase())}(e)?0:1}const gn={},pn=e=>{console.error(e)},fn=(e,...t)=>{console.log(`WARN: ${e}`,...t)},mn=(e,t)=>{gn[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),gn[`${e}/${t}`]=!0)},bn=new Error;function vn(e,t,{key:n}){let r=0;const o=e[n],i={},a={};for(let e=1;e<=t.length;e++)a[e+r]=o[e],i[e+r]=!0,r+=Mt(t[e-1]);e[n]=a,e[n]._emit=i,e[n]._multi=!0}function _n(e){!function(e){e.scope&&"object"==typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)}(e),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),function(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw pn("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),bn;if("object"!=typeof e.beginScope||null===e.beginScope)throw pn("beginScope must be object"),bn;vn(e,e.begin,{key:"beginScope"}),e.begin=Bt(e.begin,{joinWith:""})}}(e),function(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw pn("skip, excludeEnd, returnEnd not compatible with endScope: {}"),bn;if("object"!=typeof e.endScope||null===e.endScope)throw pn("endScope must be object"),bn;vn(e,e.end,{key:"endScope"}),e.end=Bt(e.end,{joinWith:""})}}(e)}function yn(e){function t(t,n){return new RegExp(Ct(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=Mt(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map((e=>e[1]));this.matcherRe=t(Bt(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex(((e,t)=>t>0&&void 0!==e)),r=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,r)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new n;return this.rules.slice(e).forEach((([e,n])=>t.addRule(e,n))),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=wt(e.classNameAliases||{}),function n(o,i){const a=o;if(o.isCompiled)return a;[rn,sn,_n,cn].forEach((e=>e(o,i))),e.compilerExtensions.forEach((e=>e(o,i))),o.__beforeBegin=null,[on,an,ln].forEach((e=>e(o,i))),o.isCompiled=!0;let s=null;return"object"==typeof o.keywords&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),s=o.keywords.$pattern,delete o.keywords.$pattern),s=s||/\w+/,o.keywords&&(o.keywords=un(o.keywords,e.case_insensitive)),a.keywordPatternRe=t(s,!0),i&&(o.begin||(o.begin=/\B|\b/),a.beginRe=t(a.begin),o.end||o.endsWithParent||(o.end=/\B|\b/),o.end&&(a.endRe=t(a.end)),a.terminatorEnd=Ct(a.end)||"",o.endsWithParent&&i.terminatorEnd&&(a.terminatorEnd+=(o.end?"|":"")+i.terminatorEnd)),o.illegal&&(a.illegalRe=t(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map((function(e){return function(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((function(t){return wt(e,{variants:null},t)}))),e.cachedVariants?e.cachedVariants:wn(e)?wt(e,{starts:e.starts?wt(e.starts):null}):Object.isFrozen(e)?wt(e):e}("self"===e?o:e)}))),o.contains.forEach((function(e){n(e,a)})),o.starts&&n(o.starts,i),a.matcher=function(e){const t=new r;return e.contains.forEach((e=>t.addRule(e.begin,{rule:e,type:"begin"}))),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(a),a}(e)}function wn(e){return!!e&&(e.endsWithParent||wn(e.starts))}class En extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const xn=yt,kn=wt,Sn=Symbol("nomatch");var An=function(e){const t=Object.create(null),n=Object.create(null),r=[];let o=!0;const i="Could not find the language '{}', did you forget to load/include a language module?",a={disableAutodetect:!0,name:"Plain text",contains:[]};let s={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:At};function l(e){return s.noHighlightRe.test(e)}function c(e,t,n){let r="",o="";"object"==typeof t?(r=e,n=t.ignoreIllegals,o=t.language):(mn("10.7.0","highlight(lang, code, ...args) has been deprecated."),mn("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),o=e,r=t),void 0===n&&(n=!0);const i={code:r,language:o};v("before:highlight",i);const a=i.result?i.result:d(i.language,i.code,n);return a.code=i.code,v("after:highlight",a),a}function d(e,n,r,a){const l=Object.create(null);function c(){if(!k.keywords)return void A.addText(C);let e=0;k.keywordPatternRe.lastIndex=0;let t=k.keywordPatternRe.exec(C),n="";for(;t;){n+=C.substring(e,t.index);const o=w.case_insensitive?t[0].toLowerCase():t[0],i=(r=o,k.keywords[r]);if(i){const[e,r]=i;if(A.addText(n),n="",l[o]=(l[o]||0)+1,l[o]<=7&&(N+=r),e.startsWith("_"))n+=t[0];else{const n=w.classNameAliases[e]||e;A.addKeyword(t[0],n)}}else n+=t[0];e=k.keywordPatternRe.lastIndex,t=k.keywordPatternRe.exec(C)}var r;n+=C.substring(e),A.addText(n)}function h(){null!=k.subLanguage?function(){if(""===C)return;let e=null;if("string"==typeof k.subLanguage){if(!t[k.subLanguage])return void A.addText(C);e=d(k.subLanguage,C,!0,S[k.subLanguage]),S[k.subLanguage]=e._top}else e=u(C,k.subLanguage.length?k.subLanguage:null);k.relevance>0&&(N+=e.relevance),A.addSublanguage(e._emitter,e.language)}():c(),C=""}function g(e,t){let n=1;const r=t.length-1;for(;n<=r;){if(!e._emit[n]){n++;continue}const r=w.classNameAliases[e[n]]||e[n],o=t[n];r?A.addKeyword(o,r):(C=o,c(),C=""),n++}}function p(e,t){return e.scope&&"string"==typeof e.scope&&A.openNode(w.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(A.addKeyword(C,w.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),C=""):e.beginScope._multi&&(g(e.beginScope,t),C="")),k=Object.create(e,{parent:{value:k}}),k}function m(e,t,n){let r=function(e,t){const n=e&&e.exec(t);return n&&0===n.index}(e.endRe,n);if(r){if(e["on:end"]){const n=new _t(e);e["on:end"](t,n),n.isMatchIgnored&&(r=!1)}if(r){for(;e.endsParent&&e.parent;)e=e.parent;return e}}if(e.endsWithParent)return m(e.parent,t,n)}function b(e){return 0===k.matcher.regexIndex?(C+=e[0],1):(O=!0,0)}function v(e){const t=e[0],r=n.substring(e.index),o=m(k,e,r);if(!o)return Sn;const i=k;k.endScope&&k.endScope._wrap?(h(),A.addKeyword(t,k.endScope._wrap)):k.endScope&&k.endScope._multi?(h(),g(k.endScope,e)):i.skip?C+=t:(i.returnEnd||i.excludeEnd||(C+=t),h(),i.excludeEnd&&(C=t));do{k.scope&&A.closeNode(),k.skip||k.subLanguage||(N+=k.relevance),k=k.parent}while(k!==o.parent);return o.starts&&p(o.starts,e),i.returnEnd?0:t.length}let _={};function y(t,i){const a=i&&i[0];if(C+=t,null==a)return h(),0;if("begin"===_.type&&"end"===i.type&&_.index===i.index&&""===a){if(C+=n.slice(i.index,i.index+1),!o){const t=new Error(`0 width match regex (${e})`);throw t.languageName=e,t.badRule=_.rule,t}return 1}if(_=i,"begin"===i.type)return function(e){const t=e[0],n=e.rule,r=new _t(n),o=[n.__beforeBegin,n["on:begin"]];for(const n of o)if(n&&(n(e,r),r.isMatchIgnored))return b(t);return n.skip?C+=t:(n.excludeBegin&&(C+=t),h(),n.returnBegin||n.excludeBegin||(C=t)),p(n,e),n.returnBegin?0:t.length}(i);if("illegal"===i.type&&!r){const e=new Error('Illegal lexeme "'+a+'" for mode "'+(k.scope||"<unnamed>")+'"');throw e.mode=k,e}if("end"===i.type){const e=v(i);if(e!==Sn)return e}if("illegal"===i.type&&""===a)return 1;if(j>1e5&&j>3*i.index)throw new Error("potential infinite loop, way more iterations than matches");return C+=a,a.length}const w=f(e);if(!w)throw pn(i.replace("{}",e)),new Error('Unknown language: "'+e+'"');const E=yn(w);let x="",k=a||E;const S={},A=new s.__emitter(s);!function(){const e=[];for(let t=k;t!==w;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach((e=>A.openNode(e)))}();let C="",N=0,T=0,j=0,O=!1;try{for(k.matcher.considerAll();;){j++,O?O=!1:k.matcher.considerAll(),k.matcher.lastIndex=T;const e=k.matcher.exec(n);if(!e)break;const t=y(n.substring(T,e.index),e);T=e.index+t}return y(n.substring(T)),A.closeAllNodes(),A.finalize(),x=A.toHTML(),{language:e,value:x,relevance:N,illegal:!1,_emitter:A,_top:k}}catch(t){if(t.message&&t.message.includes("Illegal"))return{language:e,value:xn(n),illegal:!0,relevance:0,_illegalBy:{message:t.message,index:T,context:n.slice(T-100,T+100),mode:t.mode,resultSoFar:x},_emitter:A};if(o)return{language:e,value:xn(n),illegal:!1,relevance:0,errorRaised:t,_emitter:A,_top:k};throw t}}function u(e,n){n=n||s.languages||Object.keys(t);const r=function(e){const t={value:xn(e),illegal:!1,relevance:0,_top:a,_emitter:new s.__emitter(s)};return t._emitter.addText(e),t}(e),o=n.filter(f).filter(b).map((t=>d(t,e,!1)));o.unshift(r);const i=o.sort(((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(f(e.language).supersetOf===t.language)return 1;if(f(t.language).supersetOf===e.language)return-1}return 0})),[l,c]=i,u=l;return u.secondBest=c,u}function h(e){let t=null;const r=function(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=s.languageDetectRe.exec(t);if(n){const t=f(n[1]);return t||(fn(i.replace("{}",n[1])),fn("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find((e=>l(e)||f(e)))}(e);if(l(r))return;if(v("before:highlightElement",{el:e,language:r}),e.children.length>0&&(s.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(e)),s.throwUnescapedHTML))throw new En("One of your code blocks includes unescaped HTML.",e.innerHTML);t=e;const o=t.textContent,a=r?c(o,{language:r,ignoreIllegals:!0}):u(o);e.innerHTML=a.value,function(e,t,r){const o=t&&n[t]||r;e.classList.add("hljs"),e.classList.add(`language-${o}`)}(e,r,a.language),e.result={language:a.language,re:a.relevance,relevance:a.relevance},a.secondBest&&(e.secondBest={language:a.secondBest.language,relevance:a.secondBest.relevance}),v("after:highlightElement",{el:e,result:a,text:o})}let g=!1;function p(){"loading"!==document.readyState?document.querySelectorAll(s.cssSelector).forEach(h):g=!0}function f(e){return e=(e||"").toLowerCase(),t[e]||t[n[e]]}function m(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach((e=>{n[e.toLowerCase()]=t}))}function b(e){const t=f(e);return t&&!t.disableAutodetect}function v(e,t){const n=e;r.forEach((function(e){e[n]&&e[n](t)}))}"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",(function(){g&&p()}),!1),Object.assign(e,{highlight:c,highlightAuto:u,highlightAll:p,highlightElement:h,highlightBlock:function(e){return mn("10.7.0","highlightBlock will be removed entirely in v12.0"),mn("10.7.0","Please use highlightElement now."),h(e)},configure:function(e){s=kn(s,e)},initHighlighting:()=>{p(),mn("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){p(),mn("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(n,r){let i=null;try{i=r(e)}catch(e){if(pn("Language definition for '{}' could not be registered.".replace("{}",n)),!o)throw e;pn(e),i=a}i.name||(i.name=n),t[n]=i,i.rawDefinition=r.bind(null,e),i.aliases&&m(i.aliases,{languageName:n})},unregisterLanguage:function(e){delete t[e];for(const t of Object.keys(n))n[t]===e&&delete n[t]},listLanguages:function(){return Object.keys(t)},getLanguage:f,registerAliases:m,autoDetection:b,inherit:kn,addPlugin:function(e){!function(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}(e),r.push(e)}}),e.debugMode=function(){o=!1},e.safeMode=function(){o=!0},e.versionString="11.7.0",e.regex={concat:Ot,lookahead:Nt,either:Dt,optional:jt,anyNumberOfTimes:Tt};for(const e in tn)"object"==typeof tn[e]&&bt.exports(tn[e]);return Object.assign(e,tn),e}({}),Cn=An;An.HighlightJS=An,An.default=An;const Nn="[A-Za-z$_][0-9A-Za-z$_]*",Tn=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],jn=["true","false","null","undefined","NaN","Infinity"],On=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Dn=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Mn=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],In=["arguments","this","super","console","window","document","localStorage","module","global"],Bn=[].concat(Mn,On,Dn);var Rn,$n="[0-9](_*[0-9])*",Ln=`\\.(${$n})`,Pn="[0-9a-fA-F](_*[0-9a-fA-F])*",zn={className:"number",variants:[{begin:`(\\b(${$n})((${Ln})|\\.)?|(${Ln}))[eE][+-]?(${$n})[fFdD]?\\b`},{begin:`\\b(${$n})((${Ln})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Ln})[fFdD]?\\b`},{begin:`\\b(${$n})[fFdD]\\b`},{begin:`\\b0[xX]((${Pn})\\.?|(${Pn})?\\.(${Pn}))[pP][+-]?(${$n})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Pn})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Hn(e,t,n){return-1===n?"":e.replace(t,(r=>Hn(e,t,n-1)))}Cn.registerLanguage("javascript",(function(e){const t=e.regex,n=Nn,r={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const n=e[0].length+e.index,r=e.input[n];if("<"===r||","===r)return void t.ignoreMatch();let o;">"===r&&(((e,{after:t})=>{const n="</"+e[0].slice(1);return-1!==e.input.indexOf(n,t)})(e,{after:n})||t.ignoreMatch());const i=e.input.substring(n);((o=i.match(/^\s*=/))||(o=i.match(/^\s+extends\s+/))&&0===o.index)&&t.ignoreMatch()}},o={$pattern:Nn,keyword:Tn,literal:jn,built_in:Bn,"variable.language":In},i="[0-9](_?[0-9])*",a=`\\.(${i})`,s="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",l={className:"number",variants:[{begin:`(\\b(${s})((${a})|\\.)?|(${a}))[eE][+-]?(${i})\\b`},{begin:`\\b(${s})\\b((${a})\\b|\\.)?|(${a})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},c={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},d={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,c],subLanguage:"xml"}},u={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,c],subLanguage:"css"}},h={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,c]},g={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},p=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,d,u,h,{match:/\$\d+/},l];c.contains=p.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(p)});const f=[].concat(g,c.contains),m=f.concat([{begin:/\(/,end:/\)/,keywords:o,contains:["self"].concat(f)}]),b={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:m},v={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},_={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...On,...Dn]}},y={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[b],illegal:/%/},w={match:t.concat(/\b/,(E=[...Mn,"super","import"],t.concat("(?!",E.join("|"),")")),n,t.lookahead(/\(/)),className:"title.function",relevance:0};var E;const x={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},k={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},b]},S="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",A={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(S)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[b]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:m,CLASS_REFERENCE:_},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,d,u,h,g,{match:/\$\d+/},l,_,{className:"attr",begin:n+t.lookahead(":"),relevance:0},A,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[g,e.REGEXP_MODE,{className:"function",begin:S,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:m}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:"<>",end:"</>"},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:r.begin,"on:begin":r.isTrulyOpeningTag,end:r.end}],subLanguage:"xml",contains:[{begin:r.begin,end:r.end,skip:!0,contains:["self"]}]}]},y,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[b,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},x,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[b]},w,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},v,k,{match:/\$[(.]/}]}})),Cn.registerLanguage("sql",(function(e){const t=e.regex,n=e.COMMENT("--","$"),r=["true","false","unknown"],o=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],i=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],a=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],s=i,l=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year","add","asc","collation","desc","final","first","last","view"].filter((e=>!i.includes(e))),c={begin:t.concat(/\b/,t.either(...s),/\s*\(/),relevance:0,keywords:{built_in:s}};return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:function(e,{exceptions:t,when:n}={}){const r=n;return t=t||[],e.map((e=>e.match(/\|\d+$/)||t.includes(e)?e:r(e)?`${e}|0`:e))}(l,{when:e=>e.length<3}),literal:r,type:o,built_in:["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"]},contains:[{begin:t.either(...a),relevance:0,keywords:{$pattern:/[\w\.]+/,keyword:l.concat(a),literal:r,type:o}},{className:"type",begin:t.either("double precision","large object","with timezone","without timezone")},c,{className:"variable",begin:/@[a-z0-9]+/},{className:"string",variants:[{begin:/'/,end:/'/,contains:[{begin:/''/}]}]},{begin:/"/,end:/"/,contains:[{begin:/""/}]},e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,{className:"operator",begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0}]}})),Cn.registerLanguage("java",(function(e){const t=e.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+Hn("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),o={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},i={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},a={className:"params",begin:/\(/,end:/\)/,keywords:o,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:o,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[a,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:o,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:o,relevance:0,contains:[i,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,zn,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},zn,i]}})),Cn.registerLanguage("xml",(function(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},o={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},i=e.inherit(o,{begin:/\(/,end:/\)/}),a=e.inherit(e.APOS_STRING_MODE,{className:"string"}),s=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),l={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/[\p{L}0-9._:-]+/u,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[r]},{begin:/'/,end:/'/,contains:[r]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[o,s,a,i,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[o,i,s,a]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},r,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[s]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[l],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[l],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:l}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}})),Cn.registerLanguage("python",(function(e){const t=e.regex,n=/[\p{XID_Start}_]\p{XID_Continue}*/u,r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],o={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},i={className:"meta",begin:/^(>>>|\.\.\.) /},a={className:"subst",begin:/\{/,end:/\}/,keywords:o,illegal:/#/},s={begin:/\{\{/,relevance:0},l={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,i],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,i],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,i,s,a]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,i,s,a]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,s,a]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,s,a]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},c="[0-9](_?[0-9])*",d=`(\\b(${c}))?\\.(${c})|\\b(${c})\\.`,u=`\\b|${r.join("|")}`,h={className:"number",relevance:0,variants:[{begin:`(\\b(${c})|(${d}))[eE][+-]?(${c})[jJ]?(?=${u})`},{begin:`(${d})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${u})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${u})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${u})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${u})`},{begin:`\\b(${c})[jJ](?=${u})`}]},g={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:o,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},p={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:["self",i,h,l,e.HASH_COMMENT_MODE]}]};return a.contains=[l,h,i],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:o,illegal:/(<\/|->|\?)|=>/,contains:[i,h,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},l,g,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[p]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[h,p,l]}]}}));class Fn{el;_dropArea;_dragArea;_dropSortable;_dragSortable;parentElement;_prevPosition;reusable;randomize;storedSourceBlocks;storedSourceBlockExplanations;hljsLanguage;initialized;constructor(e,t,n){this.el=document.createElement("div"),this.el.classList.add("hparsons-input"),this.parentElement=e,this.el.id="hparsonstool-"+this.parentElement.toolNumber+"-parsons-input";const r=document.createElement("div");r.innerText="Drag or click the blocks below to form your code:",r.classList.add("hparsons-tip"),this.el.append(r),this._dragArea=document.createElement("div"),this.el.appendChild(this._dragArea),this._dragArea.classList.add("drag-area");const o=document.createElement("div");o.innerText="Your code (click on a block to remove it):",o.classList.add("hparsons-tip"),this.el.append(o),this._dropArea=document.createElement("div"),this.el.appendChild(this._dropArea),this._dropArea.classList.add("drop-area"),this._prevPosition=-1,this.storedSourceBlocks=[],this.storedSourceBlockExplanations=null,this.reusable=t,this.randomize=n,this._dragSortable=null,this._dropSortable=null,this._initSortable(),this.initialized=!1;let i=new Map(Object.entries({html:"xml",python:"python",javascript:"javascript",java:"java",sql:"sql"}));this.hljsLanguage=i.get(e.language)}getText=e=>{let t="";if(this._dropArea.hasChildNodes()){let n=this._dropArea.firstChild;for(t+=n.innerText.replace(/\xA0/g," ");n.nextSibling;)n=n.nextSibling,t+=e?" ":"",t+=n.innerText.replace(/\xA0/g," ");return t}return t};shuffleArray(e){for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}}setSourceBlocks=(e,t)=>{if(this.randomize){let t=JSON.stringify(e);for(this.shuffleArray(e);JSON.stringify(e)==t;)this.shuffleArray(e)}this.storedSourceBlocks=e,this.storedSourceBlockExplanations=t,this._resetInput()};_resetInput=()=>{for(;this._dragArea.firstChild;)this._dragArea.removeChild(this._dragArea.firstChild);for(;this._dropArea.firstChild;)this._dropArea.removeChild(this._dropArea.firstChild);for(let e=0;e<this.storedSourceBlocks.length;++e){const t=document.createElement("div");this._dragArea.appendChild(t)," "===this.storedSourceBlocks[e]?t.innerHTML="&nbsp;":this.hljsLanguage?t.innerHTML=Cn.highlight(this.storedSourceBlocks[e],{language:this.hljsLanguage,ignoreIllegals:!0}).value:t.innerText=this.storedSourceBlocks[e],t.style.display="inline-block",t.classList.add("parsons-block"),t.onclick=()=>{this._onBlockClicked(t)}}};_onBlockClicked=e=>{if(e.parentElement==this._dragArea){let t;if(this.reusable){const n=e.cloneNode(!0);n.onclick=()=>this._onBlockClicked(n),this._dropArea.appendChild(n),t=this._getBlockPosition(n)}else this._dropArea.appendChild(e),t=this._getBlockPosition(e);const n={"event-type":"parsons-input",action:"add",position:[-1,t],answer:this._getTextArray()};this.parentElement.logEvent(n)}else{const t=this._getBlockPosition(e);this.reusable?this._dropArea.removeChild(e):this._dragArea.appendChild(e);const n={"event-type":"parsons-input",action:"remove",position:[t,-1],answer:this._getTextArray()};this.parentElement.logEvent(n)}};_initSortable=()=>{this.reusable?(this._dragSortable=new Ke(this._dragArea,{group:{name:"shared",pull:"clone",put:!1},sort:!1,direction:"horizontal",animation:150,draggable:".parsons-block",onClone:e=>{const t=e.clone;t.onclick=()=>this._onBlockClicked(t)}}),this._dropSortable=new Ke(this._dropArea,{group:"shared",direction:"horizontal",animation:150,draggable:".parsons-block",onAdd:e=>{const t={"event-type":"parsons-input",action:"add",position:[-1,this._getBlockPosition(e.item)],answer:this._getTextArray()};this.parentElement.logEvent(t)},onStart:e=>{this._prevPosition=this._getBlockPosition(e.item)},onEnd:e=>{let t,n="move";const r=this._dropArea.getBoundingClientRect().top,o=this._dropArea.getBoundingClientRect().bottom;if(e.originalEvent.clientY>o||e.originalEvent.clientY<r){const r=e.item;r.parentNode&&r.parentNode.removeChild(r),t=-1,n="remove"}else t=this._getBlockPosition(e.item);const i={"event-type":"parsons-input",action:n,position:[this._prevPosition,t],answer:this._getTextArray()};this.parentElement.logEvent(i)}})):(this._dragSortable=new Ke(this._dragArea,{group:{name:"shared"},direction:"horizontal",animation:150,draggable:".parsons-block"}),this._dropSortable=new Ke(this._dropArea,{group:"shared",direction:"horizontal",animation:150,draggable:".parsons-block",onAdd:e=>{const t={"event-type":"parsons-input",action:"add",position:[-1,this._getBlockPosition(e.item)],answer:this._getTextArray()};this.parentElement.logEvent(t)},onStart:e=>{this._prevPosition=this._getBlockPosition(e.item)},onEnd:e=>{let t=this._getBlockPosition(e.item);const n={"event-type":"parsons-input",action:-1==t?"remove":"move",position:[this._prevPosition,t],answer:this._getTextArray()};this.parentElement.logEvent(n)}}))};updateTestStatus=e=>{this._dropArea.classList.contains(e)||(this._dropArea.classList.contains("Pass")?this._dropArea.classList.remove("Pass"):this._dropArea.classList.contains("Fail")?this._dropArea.classList.remove("Fail"):this._dropArea.classList.contains("Error")&&this._dropArea.classList.remove("Error"),this._dropArea.classList.add(e))};_getBlockPosition=e=>{let t=-1;const n=this._dropArea;if(n)for(t=0;t<n.childNodes.length&&n.childNodes[t]!==e;++t);return t};_getTextArray=()=>{let e=[];if(this._dropArea.hasChildNodes()){let t=this._dropArea.firstChild;for(e.push(t.innerText);t.nextSibling;)t=t.nextSibling,e.push(t.innerText)}return e};highlightError=e=>{let t=0;if(this._dropArea.hasChildNodes()){let n=this._dropArea.firstChild;if(t+=n.innerText.length,t>=e)n.style.backgroundColor="#ff99b3";else for(;n.nextSibling;)if(n=n.nextSibling,t+=n.innerText.length,t>=e){n.style.backgroundColor="#ff99b3";break}}};removeFormat=()=>{if(this._dropArea.hasChildNodes()){let e=this._dropArea.firstChild;for(e.style.removeProperty("background-color");e.nextSibling;)e=e.nextSibling,e.style.removeProperty("background-color")}};resetInput=()=>{if(this.reusable)for(;this._dropArea.firstChild;)this._dropArea.removeChild(this._dropArea.firstChild);else this._resetInput()};restoreAnswer(e,t){if("parsons"==e&&Array.isArray(t)){this._dropArea.innerHTML="";for(let e=0;e<t.length;++e)if("string"==typeof t[e]){const n=document.createElement("div");this._dropArea.appendChild(n),n.innerText=t[e],n.style.display="inline-block",n.classList.add("parsons-block"),n.onclick=()=>{const e=this._getBlockPosition(n);n.parentNode?.removeChild(n),this.parentElement&&(this.parentElement.temporaryInputEvent={"event-type":"parsons-input",action:ht.ParsonsInputAction.REMOVE,position:[e,-1],answer:this._getTextArray()})},this.el.dispatchEvent(new Event("codeChanged"))}}}}class Xn extends HTMLElement{root;_parsonsData;parsonsExplanation;hparsonsInput;inputType;static toolCount=0;toolNumber;temporaryInputEvent;language;constructor(){super(),Xn.toolCount+=1,this.toolNumber=Xn.toolCount,this.root=this,this.addStyle();const e=!!this.getAttribute("reuse-blocks"),t=!!this.getAttribute("randomize");this.hparsonsInput=new Fn(this,e,t),this._parsonsData=new Array,this.parsonsExplanation=null,this.inputType="parsons",this.language=this.getAttribute("language")||"none",this.initInput(),this.temporaryInputEvent={}}set parsonsData(e){this._parsonsData=e,"parsons"==this.inputType&&this.hparsonsInput.setSourceBlocks(e,this.parsonsExplanation)}get parsonsData(){return this._parsonsData}addStyle=()=>{const e=document.createElement("style");e.innerHTML+=".hparsons-input {padding: 15px;}\n",e.innerHTML+=".hparsons-tip { font-style: italic; }\n",e.innerHTML+=".parsons-block {display: inline-block; font-family: monospace; border-color:gray; margin: 0 1px; position: relative; border-radius: 10px; background-color: #efefef; border: 1px solid #d3d3d3; padding: 5px 10px; margin-top: 5px;}\n",e.innerHTML+=".drop-area .parsons-block.incorrectPosition {background-color: #ffbaba; border: 1px solid red;}\n",e.innerHTML+=".parsons-block:hover, .parsons-block:focus { border-color: black;}\n",e.innerHTML+=".drop-area { background-color: #ffa; padding: 0 5px 5px 5px; min-height: 32px; height: auto; margin: 2px 0;}\n",e.innerHTML+=".drop-area.incorrect { background-color: #f2dede; border-color: #f2b6b6}\n",e.innerHTML+=".drop-area.correct { background-color: #dff0d8; border-color: #ade595}\n",e.innerHTML+=".parsons-block .tooltip { visibility: hidden; width: 200px;  background-color: black; color: #fff; text-align: center; padding: 5px 0; border-radius: 6px;  position: absolute; z-index: 1; margin: 0 10px; bottom: 120%; margin-left: -100px;}\n",e.innerHTML+='.parsons-block .tooltip::after {content: " ";position: absolute; top: 100%;left: 50%; margin-left: -5px; border-width: 5px; border-style: solid; border-color: black transparent transparent transparent;}\n',e.innerHTML+=".drag-area .parsons-block:hover .tooltip { visibility: visible;}\n",e.innerHTML+=".drag-area { background-color: #efefff; padding: 0 5px 5px 5px; min-height: 32px; height: auto; margin: 2px 0; }\n",this.root.appendChild(e)};logEvent=e=>{const t={"input-type":this.inputType},n=new CustomEvent("micro-parsons",{bubbles:!0,detail:{...t,...e}});this.dispatchEvent(n)};initInput(){this.inputType="parsons",this._parsonsData=new Array,this.parsonsExplanation=null;const e=null!=this.getAttribute("reuse-blocks"),t=null!=this.getAttribute("randomize");this.hparsonsInput=new Fn(this,e,t),this.root.appendChild(this.hparsonsInput.el)}resetInput(){this.hparsonsInput.resetInput(),this.logEvent({"event-type":"reset"})}restoreAnswer(e,t){null!=e&&null!=t&&this.hparsonsInput.restoreAnswer(e,t)}getCurrentInput(e){return this.hparsonsInput.getText(e)}getParsonsTextArray(){return this.hparsonsInput._getTextArray()}}customElements.define("micro-parsons",Xn),void 0===Rn&&(Rn={});class Un extends r.Z{constructor(e){var t;super(e);var n=$(e.orig).find("textarea")[0];this.reuse=!!$(n).data("reuse"),this.randomize=!!$(n).data("randomize"),this.isBlockGrading=!!$(n).data("blockanswer"),this.language=$(n).data("language"),this.isBlockGrading&&(this.blockAnswer=$(n).data("blockanswer").split(" ")),this.divid=e.orig.id,this.containerDiv=e.orig,this.useRunestoneServices=e.useRunestoneServices,this.origElem=n,this.origText=this.origElem.textContent,this.code=$(n).text()||"\n\n\n\n\n",this.dburl=$(n).data("dburl"),this.runButton=null,this.saveButton=null,this.loadButton=null,this.outerDiv=null,this.controlDiv=null;let r=this.code.indexOf("^^^^");r>-1&&(this.prefix=this.code.substring(0,r),this.code=this.code.substring(r+5)),(t=this.code.indexOf("--unittest--"))>-1&&(this.suffix=this.code.substring(t+5),this.code=this.code.substring(0,t)),this.isBlockGrading?this.feedbackController=new a(this):this.feedbackController=new u(this),this.createEditor(),this.createOutput(),this.createControls(),this.feedbackController.customizeUI(),$(n).data("caption")?this.caption=$(n).data("caption"):this.caption="HorizontalParsons",this.addCaption("runestone"),this.indicate_component_ready(),this.feedbackController.init()}createEditor(){this.outerDiv=document.createElement("div"),$(this.origElem).replaceWith(this.outerDiv);let e=`<micro-parsons id='${this.divid}-hparsons'`;e+=" input-type='parsons' ",this.reuse&&(e+=' reuse-blocks="true"'),this.randomize&&(e+=' randomize="true"'),this.language&&(e+=' language="'+this.language+'"'),e+=">",this.outerDiv.innerHTML=e,this.outerDiv.addEventListener("micro-parsons",(e=>{this.logHorizontalParsonsEvent(e.detail),this.feedbackController.clearFeedback()}));let t=[],n=this.code.indexOf("--blocks--");if(n>-1){let e=this.code.substring(n+10),r=e.indexOf("\n--");e=r>-1?e.substring(0,r):e,t=e.split("\n")}this.hparsonsInput=$(this.outerDiv).find("micro-parsons")[0],this.originalBlocks=t.slice(1,-1),this.hparsonsInput.parsonsData=t.slice(1,-1)}createOutput(){this.feedbackController.createOutput()}createControls(){var e,t=document.createElement("div");$(t).addClass("hp_actions"),$(t).addClass("col-md-12"),this.runButton=document.createElement("button"),$(this.runButton).addClass("btn btn-success run-button"),t.appendChild(this.runButton),$(this.runButton).attr("type","button"),$(this.runButton).text("Run"),this.runButton.onclick=()=>{this.feedbackController.runButtonHandler()},e=document.createElement("button"),$(e).text("Reset"),$(e).addClass("btn btn-warning run-button"),t.appendChild(e),this.resetButton=e,this.resetButton.onclick=()=>{this.hparsonsInput.resetInput(),this.feedbackController.reset()},$(e).attr("type","button"),$(this.outerDiv).prepend(t),this.controlDiv=t}logHorizontalParsonsEvent(e){let t={event:"hparsons",div_id:this.divid,act:JSON.stringify(e)};this.logBookEvent(t)}}$(document).on("runestone:login-complete",(function(){$("[data-component=hparsons]").each((function(){0==$(this).closest("[data-component=timedAssessment]").length&&(Rn[this.id]=new Un({orig:this,useRunestoneServices:eBookConfig.useRunestoneServices}))}))})),void 0===window.component_factory&&(window.component_factory={}),window.component_factory.hparsons=function(e){return new Un(e)}},59164:()=>{$.i18n().load({en:{msg_parson_check_me:"Check",msg_parson_reset:"Reset",msg_parson_help:"Help me",msg_parson_too_short:"Your answer is too short. Add more blocks.",msg_parson_drag_from_here:"Drag from here",msg_parson_drag_to_here:"Drop blocks here",msg_parson_correct_first_try:"Perfect!  It took you only one try to solve this.  Great job!",msg_parson_correct:"Perfect!  It took you $1 tries to solve this.  Click Reset to try to solve it in one attempt.",msg_parson_wrong_indent:"This block is not indented correctly. Either indent it more by dragging it right or reduce the indention by dragging it left.",msg_parson_wrong_indents:"These blocks are not indented correctly. To indent a block more, drag it to the right. To reduce the indention, drag it to the left.",msg_parson_wrong_order:"Highlighted blocks in your answer are wrong or are in the wrong order. This can be fixed by moving, removing, or replacing highlighted blocks.",msg_parson_arrow_navigate:"Arrow keys to navigate. Space to select / deselect block to move.",msg_parson_help_info:"Click on the Help Me button if you want to make the problem easier",msg_parson_not_solution:"Disabled an unneeded code block (one that is not part of the solution).",msg_parson_provided_indent:"Provided the indentation.",msg_parson_combined_blocks:"Combined two code blocks into one.",msg_parson_remove_incorrect:"Will remove an incorrect code block from answer area",msg_parson_will_combine:"Will combine two blocks",msg_parson_atleast_three_attempts:"You must make at least three distinct full attempts at a solution before you can get help",msg_parson_three_blocks_left:"There are only 3 correct blocks left.  You should be able to put them in order",msg_parson_will_provide_indent:"Will provide indentation"}})},16432:()=>{$.i18n().load({"pt-br":{msg_parson_check_me:"Verificar",msg_parson_reset:"Resetar",msg_parson_help:"Ajuda",msg_parson_too_short:"Seu programa  muito curto. Adicione mais blocos.",msg_parson_drag_from_here:"Arraste daqui",msg_parson_drag_to_here:"Largue os blocos aqui",msg_parson_correct_first_try:"Perfeito! Voc levou apenas uma tentativa para resolver. Bom trabalho!",msg_parson_correct:"Perfeito! Voc levou $1 tentativas para resolver. Clique em Resetar para tentar resolver em uma tentativa.",msg_parson_wrong_indent:"Este bloco no est indentado corretamente. Indente mais arrastando-o para a direita ou reduza a indentao arrastando para a esquerda.",msg_parson_wrong_indents:"Estes blocos no esto indentados corretamente. Para indentar mais, arraste o bloco para a direita. Para reduzir a indentao, arraste para a esquerda.",msg_parson_wrong_order:"Blocos destacados no seu programa esto errados ou esto na ordem errada. Isso pode ser resolvido movendo, excluindo ou substituindo os blocos destacados.",msg_parson_arrow_navigate:"Use as teclas de setas para navegar. Espao para selecionar/ desmarcar blocos para mover.",msg_parson_help_info:"Clique no boto Ajuda se voc quiser facilitar o problema",msg_parson_not_solution:"Foi desabilitado um bloco de cdigo desnecessrio (que no faz parte da soluo).",msg_parson_provided_indent:"Foi fornecida a indentao.",msg_parson_combined_blocks:"Dois blocos de cdigos foram combinados em um.",msg_parson_remove_incorrect:"Ser removido um bloco de cdigo incorreto da rea de resposta",msg_parson_will_combine:"Sero combinados dois blocos",msg_parson_atleast_three_attempts:"Voc deve tentar pelo menos trs vezes antes de pedir ajuda",msg_parson_three_blocks_left:"Restam apenas 3 blocos corretos. Voc deve coloc-los em ordem",msg_parson_will_provide_indent:"Ser fornecida a indentao"}})},37607:()=>{},70803:()=>{},59547:()=>{}}]);
//# sourceMappingURL=148.9ab020ae40d1c890.bundle.js.map