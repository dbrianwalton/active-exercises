<exercise xml:id="ex-demo-solve-equation" label="ex-demo-solve-equation">
  <title>Solve an Equation</title>
  <statement>
    <p>
      Solve the equation <me><eval obj="theFunction"/>=0</me>
      to get the value of <m>x</m>.
    </p>
    <p><m>x = </m> <fillin width="5" ansobj="theAnswer"/></p>
  </statement>
  <solution>
    <p>
      We want to isolate the <m>x</m> in the equation <m><eval obj="theFunction"/>=0</m>.
      Because addition of <m><eval obj="b"/></m> is the last operation, 
      we apply the inverse by adding <m><eval obj="negB"/></m> to both sides.
      The new, but equivalent equation is now <m><eval obj="m"/>x = <eval obj="negB"/></m>.
      Dividing both sides of the equation by <m><eval obj="m"/></m>, 
      we obtain the solution <m>x=<eval obj="theAnswer"/></m>.
    </p>
  </solution>
  <setup seed="12345">
    <de-object name="m" context="number">
        <de-random distribution="discrete" nonzero="yes" min="-4" max="5" by="1" />
    </de-object>
    <de-object name="b" context="number">
        <de-random distribution="discrete" min="-10" max="10" />
    </de-object>
    <de-object name="negB" context="number">
        <de-number>-b</de-number>
    </de-object>
    <de-object name="theFunction" context="formula">
        <de-expression mode="formula">m*x+b</de-expression>
    </de-object>
    <de-object name="theAnswer" context="formula">
        <de-expression mode="formula">-b/m</de-expression>
    </de-object>
  </setup>
  <evaluation>
    <evaluate>
      <test correct="yes">
        <mathcmp use-answer="yes" />
        <feedback>Correct!</feedback>
      </test>
      <test>
        <de-expression mode="formula">{{b}}/{{m}}</de-expression>
        <feedback>Check for a sign error while isolating <m>x</m>.</feedback>
      </test>
    </evaluate>
  </evaluation>
</exercise>
