<!DOCTYPE html>
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<html lang="en-US">
<head xmlns:og="http://ogp.me/ns#" xmlns:book="https://ogp.me/ns/book#">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Setup and Randomization</title>
<meta name="Keywords" content="Authored in PreTeXt">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta property="og:type" content="book">
<meta property="book:title" content="Dynamic Exercises">
<meta property="book:author" content="D. Brian Walton">
<script>var runestoneMathReady = new Promise((resolve) => window.rsMathReady = resolve);
window.MathJax = {
  tex: {
    inlineMath: [['\\(','\\)']],
    tags: "none",
    tagSide: "right",
    tagIndent: ".8em",
    packages: {'[+]': ['base', 'extpfeil', 'ams', 'amscd', 'color', 'newcommand', 'knowl']}
  },
  options: {
    ignoreHtmlClass: "tex2jax_ignore|ignore-math",
    processHtmlClass: "process-math",
  },
  chtml: {
    scale: 0.98,
    mtextInheritFont: true
  },
  loader: {
    load: ['input/asciimath', '[tex]/extpfeil', '[tex]/amscd', '[tex]/color', '[tex]/newcommand', '[pretext]/mathjaxknowl3.js'],
    paths: {pretext: "https://pretextbook.org/js/lib"},
  },
  startup: {
    pageReady() {
      return MathJax.startup.defaultPageReady().then(function () {
      console.log("in ready function");
      rsMathReady();
      }
    )}
  },
};
</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><script src="https://unpkg.com/lunr/lunr.js"></script><script src="lunr-pretext-search-index.js"></script><script src="https://pretextbook.org/js/0.2/pretext_search.js"></script><link href="https://pretextbook.org/css/0.6/pretext_search.css" rel="stylesheet" type="text/css">
<script>js_version = 0.2</script><script src="https://pretextbook.org/js/lib/jquery.min.js"></script><script src="https://pretextbook.org/js/lib/jquery.sticky.js"></script><script src="https://pretextbook.org/js/lib/jquery.espy.min.js"></script><script src="https://pretextbook.org/js/0.2/pretext.js"></script><script>miniversion=0.1</script><script src="https://pretextbook.org/js/0.2/pretext_add_on.js?x=1"></script><script src="https://pretextbook.org/js/0.2/user_preferences.js"></script><script src="https://pretextbook.org/js/lib/knowl.js"></script><!--knowl.js code controls Sage Cells within knowls--><script>sagecellEvalName='Evaluate (Sage)';
</script><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;700&amp;family=Noto+Serif:ital,wght@0,400;0,700;1,400;1,700&amp;family=Tinos:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet">
<link href="https://fonts.cdnfonts.com/css/dejavu-serif" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Roboto+Serif:opsz,wdth,wght@8..144,50..150,100..900&amp;display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wdth,wght@75..100,300..800&amp;display=swap" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/jsxgraph/0.99.6/jsxgraph.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jsxgraph/0.99.6/jsxgraphcore.js"></script><link href="https://pretextbook.org/css/0.6/pretext.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/pretext_add_on.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/shell_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/banner_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/navbar_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/toc_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/knowls_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/style_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/colors_blue_red.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/setcolors.css" rel="stylesheet" type="text/css">
<!--** eBookCongig is necessary to configure interactive       **-->
<!--** Runestone components to run locally in reader's browser **-->
<!--** No external communication:                              **-->
<!--**     log level is 0, Runestone Services are disabled     **-->
<script type="text/javascript">
eBookConfig = {};
eBookConfig.useRunestoneServices = false;
eBookConfig.host = 'http://127.0.0.1:8000';
eBookConfig.course = 'PTX_Course_Title_Here';
eBookConfig.basecourse = 'PTX_Base_Course';
eBookConfig.isLoggedIn = false;
eBookConfig.email = '';
eBookConfig.isInstructor = false;
eBookConfig.logLevel = 0;
eBookConfig.username = '';
eBookConfig.readings = null;
eBookConfig.activities = null;
eBookConfig.downloadsEnabled = false;
eBookConfig.allow_pairs = false;
eBookConfig.enableScratchAC = false;
eBookConfig.build_info = "";
eBookConfig.python3 = null;
eBookConfig.runestone_version = '5.0.1';
eBookConfig.jobehost = '';
eBookConfig.proxyuri_runs = '';
eBookConfig.proxyuri_files = '';
eBookConfig.enable_chatcodes =  false;
</script>
<!--*** Runestone Services ***-->
<script type="text/javascript" src="external/rjs/6.3.1/runtime.bundle.js"></script><script type="text/javascript" src="external/rjs/6.3.1/vendors-node_modules_bootstrap_dist_js_bootstrap_js-node_modules_jquery-ui_jquery-ui_js-node_-72cd89.bundle.js"></script><script type="text/javascript" src="external/rjs/6.3.1/runestone.bundle.js"></script><link rel="stylesheet" type="text/css" href="external/rjs/6.3.1/vendors-node_modules_bootstrap_dist_js_bootstrap_js-node_modules_jquery-ui_jquery-ui_js-node_-72cd89.css">
<link rel="stylesheet" type="text/css" href="external/rjs/6.3.1/runestone.css">
</head>
<body class="pretext book ignore-math">
<a class="assistive" href="#ptx-content">Skip to main content</a><header id="ptx-masthead"><div class="ptx-banner">
<a id="logo-link" href=""></a><div class="title-container">
<h1 class="heading"><a href="demo-exercises.html"><span class="title">Dynamic Exercises</span></a></h1>
<p class="byline">D. Brian Walton</p>
</div>
<div id="searchresultsplaceholder" style="display: none">
<button id="closesearchresults" onclick="document.getElementById('searchresultsplaceholder').style.display = 'none'; return false;">x</button><h2>Search Results: <span id="searchterms"></span>
</h2>
<div id="searchempty"><span>No results.</span></div>
<ol id="searchresults"></ol>
</div>
</div></header><nav id="ptx-navbar" class="navbar"><button class="toc-toggle button" aria-label="Show or hide table of contents"><span class="icon">‚ò∞</span><span class="name">Contents</span></button><a class="index-button button" href="index-1.html" title="Index"><span class="name">Index</span></a><button id="user-preferences-button" class="user-preferences-button button" title="Modify user preferences"><span id="theavatarbutton" class="name">You!</span><div id="preferences_menu_holder" class="hidden"><ol id="preferences_menu" style="font-family: 'Roboto Serif', serif;">
<li data-env="avatar" tabindex="-1">Choose avatar<div class="wrap_to_submenu"><span class="to_submenu">‚ñª</span></div>
<ol class="hidden avatar">
<li data-val="You!" tabindex="-1">
<span id="theYou!" class="avatarcheck">‚úîÔ∏è</span>You!</li>
<li data-val="üò∫" tabindex="-1">
<span id="theüò∫" class="avatarcheck"></span>üò∫</li>
<li data-val="üë§" tabindex="-1">
<span id="theüë§" class="avatarcheck"></span>üë§</li>
<li data-val="üëΩ" tabindex="-1">
<span id="theüëΩ" class="avatarcheck"></span>üëΩ</li>
<li data-val="üê∂" tabindex="-1">
<span id="theüê∂" class="avatarcheck"></span>üê∂</li>
<li data-val="üêº" tabindex="-1">
<span id="theüêº" class="avatarcheck"></span>üêº</li>
<li data-val="üåà" tabindex="-1">
<span id="theüåà" class="avatarcheck"></span>üåà</li>
</ol>
</li>
<li data-env="fontfamily" tabindex="-1">Font family<div class="wrap_to_submenu"><span class="to_submenu">‚ñª</span></div>
<ol class="hidden fontfamily">
<li data-val="face" data-change="OS" tabindex="-1" style="font-family: 'Open Sans'">
<span id="theOS" class="ffcheck">‚úîÔ∏è</span><span class="name">Open Sans</span><span class="sample">AaBbCc 123 PreTeXt</span>
</li>
<li data-val="face" data-change="RS" tabindex="-1" style="font-family: 'Roboto Serif'">
<span id="theRS" class="ffcheck"></span><span class="name">Roboto Serif</span><span class="sample">AaBbCc 123 PreTeXt</span>
</li>
</ol>
</li>
<li data-env="font" tabindex="-1">Adjust font<div class="wrap_to_submenu"><span class="to_submenu">‚ñª</span></div>
<ol class="hidden fonts">
<li>Size</li>
<li><span id="thesize">12</span></li>
<li data-val="size" data-change="-1" tabindex="-1" style="font-size: 80%">Smaller</li>
<li data-val="size" data-change="1" tabindex="-1" style="font-size: 110%">Larger</li>
<li>Width</li>
<li><span id="thewdth">100</span></li>
<li data-val="wdth" data-change="-5" tabindex="-1" style="font-variation-settings: 'wdth' 60">narrower</li>
<li data-val="wdth" data-change="5" tabindex="-1" style="font-variation-settings: 'wdth' 150">wider</li>
<li>Weight</li>
<li><span id="thewght">400</span></li>
<li data-val="wght" data-change="-50" tabindex="-1" style="font-weight: 200">thinner</li>
<li data-val="wght" data-change="50" tabindex="-1" style="font-weight: 700">heavier</li>
<li>Letter spacing</li>
<li>
<span id="thelspace">0</span><span class="byunits">/200</span>
</li>
<li data-val="lspace" data-change="-1" tabindex="-1">closer</li>
<li data-val="lspace" data-change="1" tabindex="-1">f a r t h e r</li>
<li>Word spacing</li>
<li>
<span id="thewspace">0</span><span class="byunits">/50</span>
</li>
<li data-val="wspace" data-change="-1" tabindex="-1">smaller‚ÄÖgap‚ÄÉ</li>
<li data-val="wspace" data-change="1" tabindex="-1">larger‚ÄÉgap</li>
<li>Line Spacing</li>
<li>
<span id="theheight">135</span><span class="byunits">/100</span>
</li>
<li data-val="height" data-change="-5" tabindex="-1" style="line-height: 1">closer<br>together</li>
<li data-val="height" data-change="5" tabindex="-1" style="line-height: 1.75">further<br>apart</li>
</ol>
</li>
<li data-env="atmosphere" tabindex="-1">Light/dark mode<div class="wrap_to_submenu"><span class="to_submenu">‚ñª</span></div>
<ol class="hidden atmosphere">
<li data-val="default" tabindex="-1">
<span id="thedefault" class="atmospherecheck">‚úîÔ∏è</span>default</li>
<li data-val="pastel" tabindex="-1">
<span id="thepastel" class="atmospherecheck"></span>pastel</li>
<li data-val="darktwilight" tabindex="-1">
<span id="thedarktwilight" class="atmospherecheck"></span>twilight</li>
<li data-val="dark" tabindex="-1">
<span id="thedark" class="atmospherecheck"></span>dark</li>
<li data-val="darkmidnight" tabindex="-1">
<span id="thedarkmidnight" class="atmospherecheck"></span>midnight</li>
</ol>
</li>
<li data-env="ruler" tabindex="-1">Reading ruler<div class="wrap_to_submenu"><span class="to_submenu">‚ñª</span></div>
<ol class="hidden ruler">
<li data-val="none" tabindex="-1">
<span id="thenone" class="rulercheck">‚úîÔ∏è</span>none</li>
<li data-val="underline" tabindex="-1">
<span id="theunderline" class="rulercheck"></span>underline</li>
<li data-val="lunderline" tabindex="-1">
<span id="thelunderline" class="rulercheck"></span>L-underline</li>
<li data-val="greybar" tabindex="-1">
<span id="thegreybar" class="rulercheck"></span>grey bar</li>
<li data-val="lightbox" tabindex="-1">
<span id="thelightbox" class="rulercheck"></span>light box</li>
<li data-val="sunrise" tabindex="-1">
<span id="thesunrise" class="rulercheck"></span>sunrise</li>
<li data-val="sunriseunderline" tabindex="-1">
<span id="thesunriseunderline" class="rulercheck"></span>sunrise underline</li>
<li class="moveQ">Motion by:</li>
<li data-val="mouse" tabindex="-1">
<span id="themouse" class="motioncheck">‚úîÔ∏è</span>follow the mouse</li>
<li data-val="arrow" tabindex="-1">
<span id="thearrow" class="motioncheck"></span>up/down arrows - not yet</li>
<li data-val="eye" tabindex="-1">
<span id="theeye" class="motioncheck"></span>eye tracking - not yet</li>
</ol>
</li>
</ol></div></button><span class="treebuttons"><a class="previous-button button" href="section-markup-exercise.html" title="Previous"><span class="icon">&lt;</span><span class="name">Prev</span></a><a class="up-button button" href="ch_markup.html" title="Up"><span class="icon">^</span><span class="name">Up</span></a><a class="next-button button" href="section-markup-evaluation.html" title="Next"><span class="name">Next</span><span class="icon">&gt;</span></a></span><div class="searchbox"><div class="searchwidget">
<input id="ptxsearch" type="text" name="terms" placeholder="Search" onchange="doSearch()"><button id="searchbutton" type="button" onclick="doSearch()">üîç</button>
</div></div></nav><div id="latex-macros" class="hidden-content process-math" style="display:none"><span class="process-math">\(\newcommand{\N}{\mathbb N}
\newcommand{\Z}{\mathbb Z}
\newcommand{\Q}{\mathbb Q}
\newcommand{\R}{\mathbb R}
\newcommand{\lt}{&lt;}
\newcommand{\gt}{&gt;}
\newcommand{\amp}{&amp;}
\definecolor{fillinmathshade}{gray}{0.9}
\newcommand{\fillinmath}[1]{\mathchoice{\colorbox{fillinmathshade}{$\displaystyle     \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\textstyle        \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptstyle      \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptscriptstyle\phantom{\,#1\,}$}}}
\)</span></div>
<div class="ptx-page">
<div id="ptx-sidebar"><nav id="ptx-toc" class="depth2"><ul class="structural">
<li>
<div class="toc-item"><a href="meta_frontmatter.html" class="internal"><span class="title">Front Matter</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="colophon-1.html" class="internal"><span class="title">Colophon</span></a></div></li>
<li><div class="toc-item"><a href="meta_frontmatter-preface.html" class="internal"><span class="title">Preface</span></a></div></li>
</ul>
</li>
<li><div class="toc-item"><a href="ch_motivation.html" class="internal"><span class="codenumber">1</span> <span class="title">Motivation</span></a></div></li>
<li>
<div class="toc-item"><a href="ch_markup.html" class="internal"><span class="codenumber">2</span> <span class="title">Markup</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="section-markup-exercise.html" class="internal"><span class="codenumber">2.1</span> <span class="title">Overview of Exercise Markup</span></a></div></li>
<li class="active"><div class="toc-item"><a href="section-markup-setup.html" class="internal"><span class="codenumber">2.2</span> <span class="title">Setup and Randomization</span></a></div></li>
<li><div class="toc-item"><a href="section-markup-evaluation.html" class="internal"><span class="codenumber">2.3</span> <span class="title">Evaluation and Feedback</span></a></div></li>
</ul>
</li>
<li>
<div class="toc-item"><a href="ch-demonstration.html" class="internal"><span class="codenumber">3</span> <span class="title">Demonstration</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="section-demonstration-usage.html" class="internal"><span class="codenumber">3.1</span> <span class="title">Usage</span></a></div></li>
<li><div class="toc-item"><a href="section-markup-examples.html" class="internal"><span class="codenumber">3.2</span> <span class="title">Examples of Markup</span></a></div></li>
</ul>
</li>
<li>
<div class="toc-item"><a href="ch-live-exercises.html" class="internal"><span class="codenumber">4</span> <span class="title">Live HTML Exercises</span></a></div>
<ul class="structural"><li><div class="toc-item"><a href="exercises-1.html" class="internal"><span class="codenumber">4</span> <span class="title">Exercises</span></a></div></li></ul>
</li>
<li>
<div class="toc-item"><a href="meta_backmatter.html" class="internal"><span class="title">Backmatter</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="solutions-1.html" class="internal"><span class="codenumber">A</span> <span class="title">Selected Hints</span></a></div></li>
<li><div class="toc-item"><a href="solutions-2.html" class="internal"><span class="codenumber">B</span> <span class="title">Selected Solutions</span></a></div></li>
<li><div class="toc-item"><a href="appendix-1.html" class="internal"><span class="codenumber">C</span> <span class="title">List of Symbols</span></a></div></li>
<li><div class="toc-item"><a href="index-1.html" class="internal"><span class="title">Index</span></a></div></li>
<li><div class="toc-item"><a href="colophon-2.html" class="internal"><span class="title">Colophon</span></a></div></li>
</ul>
</li>
</ul></nav></div>
<main class="ptx-main"><div id="ptx-content" class="ptx-content"><section class="section" id="section-markup-setup"><h2 class="heading hide-type">
<span class="type">Section</span> <span class="codenumber">2.2</span> <span class="title">Setup and Randomization</span>
</h2>
<div class="para" id="p-13">The <code class="code-inline tex2jax_ignore">setup</code> block defines all of the dynamically generated mathematical objects. It also specifies particular constraints on any variables in the system as well as other environmental settings, such as required tolerance for values to match. The tag has an attribute <code class="code-inline tex2jax_ignore">seed</code> which is used to provide a default seed for the initial state of the problem that will be used to create the static version. (Question: Should we use the same style seed that would be used for WeBWorK since this can create WeBWorK questions as well?)</div>
<div class="para" id="p-14">The block consists of a single <code class="code-inline tex2jax_ignore">&lt;de-environment&gt;</code> element (not yet specified). This will include a specification of variables that will be used in the problem, the standard domain of evaluation for those variables (where formulas are evaluated), and how values will be compared for approximate equality (relative vs absolute error and tolerance values).</div>
<div class="para" id="p-15">The environment will be followed by a sequence of <code class="code-inline tex2jax_ignore">&lt;de-object&gt;</code> elements that create dynamic content objects that will be used to describe the problem fully, including when answers are evaluated. Instruction elements can define expressions represent numbers or formulas by including <code class="code-inline tex2jax_ignore">@context</code> attributes of <code class="code-inline tex2jax_ignore">@context='number'</code> and <code class="code-inline tex2jax_ignore">@context='formula'</code>, respectively. This should allow flexibility for additional contexts to be implemented in the future, such as text, lists, sets, points, vectors, or matrices. Additional attributes will be specific to the <code class="code-inline tex2jax_ignore">@context</code>.</div>
<div class="para" id="p-16">Each object must have a <code class="code-inline tex2jax_ignore">@name</code> attribute which will be used as a variable name in the corresponding scripts used in implementation. Object names should must with a letter and can contain letters A-Za-z, digits 0-9, and the underscore. Additionally, objects can be defined in terms of previously defined objects, referencing them by name, and the order in which the elements are included is critical. An object can not be referenced prior to its creation.</div>
<div class="para" id="p-17">Numerical quantities (constants) are objects with <code class="code-inline tex2jax_ignore">@context="number"</code>. The <code class="code-inline tex2jax_ignore">@mode</code> attribute specifies how the number is defined. They can be defined as a specific value (<code class="code-inline tex2jax_ignore">@mode="value"</code>), as a random value (<code class="code-inline tex2jax_ignore">@mode="random"</code>), calculated in terms of previously defined numbers (<code class="code-inline tex2jax_ignore">@mode="formula"</code>) using mustache substitution, or evaluating a formula object at specific variable instances (<code class="code-inline tex2jax_ignore">@mode="evaluate"</code>). Expression terms can be computed in terms of previously defined parameters or expressions using the defined variables.</div>
<div class="para" id="p-18">Algebraic expressions involving variables are objects with <code class="code-inline tex2jax_ignore">@context="formula"</code>. The <code class="code-inline tex2jax_ignore">@mode</code> attribute specifies how the formula is defined. The most common approach is by providing a formula in terms of previous objects (<code class="code-inline tex2jax_ignore">@mode="formula"</code>) using mustache substitution. Additionally, a formula can be defined by substitution of a variable with another expression (<code class="code-inline tex2jax_ignore">@mode="substitution"</code>), by differentiating with respect to a variable (<code class="code-inline tex2jax_ignore">@mode="derivative"</code>), or by evaluating variables at specific values (<code class="code-inline tex2jax_ignore">@mode="evaluate"</code>).</div>
<section class="paragraphs" id="mustache-substitution"><h3 class="heading"><span class="title">Mustache Substitution vs VAR elements.</span></h3> <div class="para" id="p-19">Implementations of dynamic exercises will reference the object names in different ways. For example, WeBWorK and WebAssign both use Perl syntax and so the names will be transcoded with a dollar sign $ before the name. Other implementations will just use the names directly. To retain a simple substitution schema when <em class="emphasis">defining</em> a value or an expression, we adopt <dfn class="terminology">mustache substitution</dfn>. This means that the name of the parameter or expression needs to be surrounded by double curly braces. Variables themselves are not enclosed by braces. For example, if we had previously defined a parameter <code class="code-inline tex2jax_ignore">c</code> and wanted to introduce an expression <span class="process-math">\(cx+3\text{,}\)</span> the mustache-substitution expression would be written <code class="code-inline tex2jax_ignore">{{c}}*x+3</code>.</div> <div class="para" id="p-20">In all contexts other than providing a formula that will be parsed, we will refer to objects either for display in PreTeXt content or to refer to expressions as objects for evaluation (as in when checking answers), using an XML <code class="code-inline tex2jax_ignore">#var</code> element with <code class="code-inline tex2jax_ignore">@name="expression-name"</code> to match.</div></section><div class="para" id="p-21">Examples of typical statements are included below with an explanation of the options.</div>
<div class="para logical" id="p-22"><ul class="disc">
<li id="li-4">
<pre class="code-block tex2jax_ignore">&lt;de-object name="a" context="number" mode="value"&gt;12&lt;/de-object&gt;
</pre>
<div class="para" id="p-23">This would create a mathematical object representing the number 12 assigned to the name <code class="code-inline tex2jax_ignore">a</code>.</div>
</li>
<li id="li-5">
<pre class="code-block tex2jax_ignore">&lt;de-object name="cSq" context="number" mode="formula"&gt;{{a}}^2+{{b}}^2&lt;/de-object&gt;
</pre>
<div class="para" id="p-24">This would create a mathematical object calculated in terms of previously created numbers <code class="code-inline tex2jax_ignore">a</code> and <code class="code-inline tex2jax_ignore">b</code> according to the formula <span class="process-math">\(a^2+b^2\)</span> and saved with the name of <code class="code-inline tex2jax_ignore">cSq</code>.</div>
</li>
<li id="li-6">
<pre class="code-block tex2jax_ignore">&lt;de-object name="fVal" context="number" mode="evaluate"&gt;
    &lt;formula&gt;&lt;var name="fFunc"&gt;&lt;/formula&gt;
    &lt;variable name="x"&gt;&lt;var name="x0"&gt;&lt;/variable&gt;
&lt;/de-object&gt;
</pre>
<div class="para" id="p-25">This would create a numerical mathematical object <code class="code-inline tex2jax_ignore">fVal</code> by evaluating a formula previously created and named <code class="code-inline tex2jax_ignore">fFunc</code> using a value for the variable <span class="process-math">\(x\)</span> using the value previously stored in another numerical object <code class="code-inline tex2jax_ignore">x0</code>.</div>
</li>
<li id="li-7">
<pre class="code-block tex2jax_ignore">&lt;de-object name="fVal" context="number" mode="random"&gt;
    &lt;options distribution="discrete" min="-5" max="5" by="1" nonzero="yes" /&gt;
&lt;/de-object&gt;
</pre>
<div class="para" id="p-26">At present, only one random distribution is implemented. The options for the random distribution will all be given in the <code class="code-inline tex2jax_ignore">&lt;options&gt;</code> as attributes. For the <code class="code-inline tex2jax_ignore">distribution="discrete"</code> distribution, there are default values of <code class="code-inline tex2jax_ignore">@by="1"</code> and <code class="code-inline tex2jax_ignore">@nonzero="no"</code>. The distribution considers the values starting at <code class="code-inline tex2jax_ignore">@min</code>, counting by <code class="code-inline tex2jax_ignore">@by</code>, until we reach <code class="code-inline tex2jax_ignore">@max</code>. Each value has the same probability.</div>
<div class="para" id="p-27">Using attributes instead of XML is simpler to type. However, if we want to implement distributions where the properties themselves are dynamically determined (for example, change the min/max values or the by value), then this probably should be done use tags. Can we allow both? I wonder if the following would be reasonable and possible:</div>
<pre class="code-block tex2jax_ignore">&lt;de-object name="fVal" context="number" mode="random"&gt;
    &lt;options distribution="discrete" by="1" nonzero="yes"&gt;
        &lt;min&gt;&lt;var name="myMin"/&gt;&lt;/min&gt;
        &lt;max&gt;&lt;var name="myMin"/&gt;&lt;/max&gt;
    &lt;/options&gt;
&lt;/de-object&gt;
</pre>
</li>
<li id="li-8">
<pre class="code-block tex2jax_ignore">&lt;de-object name="quadratic" context="formula" mode="formula"&gt;{{a}}x^2+{{b}}x+{{{c}}&lt;/de-object&gt;
</pre>
<div class="para" id="p-28">Define the formula <span class="process-math">\(ax^2+bx+c\text{,}\)</span> replacing the values of <span class="process-math">\(a,b,c\)</span> with the values previously assigned as their own objects.</div>
</li>
<li id="li-9">
<pre class="code-block tex2jax_ignore">&lt;de-object name="quadComp" context="formula" mode="substitution"&gt;
    &lt;formula&gt;&lt;var name="quadratic" /&gt;&lt;/formula&gt;
    &lt;variable name="x"&gt;
        &lt;de-object context="formula" mode="formula"&gt;{{m}}x+{{b2}}&lt;/de-object&gt;
    &lt;/variable&gt;
&lt;/de-object&gt;
</pre>
<div class="para" id="p-29">It is technically possible to define a new object anywhere that we would otherwise use the <code class="code-inline tex2jax_ignore">&lt;var&gt;</code> tag to refer to a previously-defined value. This is not recommended because the value of the intermediate result is never saved. However, in this example, we would start with the quadratic formula defined in the previous example <span class="process-math">\(ax^2+bx+c\)</span> and create a new expression replacing <span class="process-math">\(x\)</span> with the formula <span class="process-math">\(mx+b_2\text{.}\)</span> In other words, this is how we implement composition of functions.</div>
<div class="para" id="p-30">Alternatively, we could accomplish the same thing (recommended) by defining the intermediate object:</div>
<pre class="code-block tex2jax_ignore">&lt;de-object name="myLine" context="formula" mode="formula"&gt;{{m}}x+{{b2}}&lt;/de-object&gt;
&lt;de-object name="quadComp" context="formula" mode="substitution"&gt;
    &lt;formula&gt;&lt;var name="quadratic" /&gt;&lt;/formula&gt;
    &lt;variable name="x"&gt;&lt;var name="myLine"/&gt;&lt;/variable&gt;
&lt;/de-object&gt;
</pre>
</li>
<li id="li-10">
<pre class="code-block tex2jax_ignore">&lt;de-object name="quadDeriv" context="formula" mode="derivative"&gt;
    &lt;formula&gt;&lt;var name="quadratic" /&gt;&lt;/formula&gt;
    &lt;variable name="x" /&gt;
&lt;/de-object&gt;
</pre>
<div class="para" id="p-31">Calculate the derivative of <code class="code-inline tex2jax_ignore">quadratic</code> with respect to <span class="process-math">\(x\text{.}\)</span> This relies on the implementation environments being able to do differentiation. Both WeBWorK and BTMExpressions.js support this intrinsically.</div>
</li>
<li id="li-11">
<pre class="code-block tex2jax_ignore">&lt;de-object name="quadDeriv" context="formula" mode="evaluate"&gt;
    &lt;formula&gt;&lt;var name="myFormula" /&gt;&lt;/formula&gt;
    &lt;variable name="x"&gt;&lt;var name="myValue" /&gt;&lt;/variable&gt;
&lt;/de-object&gt;
</pre>
<div class="para" id="p-32">This is similar to substitution, except that the variable <span class="process-math">\(x\)</span> in the expression defined as <code class="code-inline tex2jax_ignore">myFormula</code> is evaluated at a numerical value defined by <code class="code-inline tex2jax_ignore">myValue</code>.</div>
</li>
</ul></div></section></div>
<div class="ptx-content-footer">
<a class="previous-button button" href="section-markup-exercise.html" title="Previous"><span class="icon">&lt;</span><span class="name">Prev</span></a><a class="top-button button" href="#" title="Top"><span class="icon">^</span><span class="name">Top</span></a><a class="next-button button" href="section-markup-evaluation.html" title="Next"><span class="name">Next</span><span class="icon">&gt;</span></a>
</div></main>
</div>
<div id="ptx-page-footer">
<a class="pretext-link" href="https://pretextbook.org" title="PreTeXt"><div class="logo"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="338 3000 8772 6866"><g style="stroke-width:.025in; stroke:black; fill:none"><polyline points="472,3590 472,9732 " style="stroke:#000000;stroke-width:174; stroke-linejoin:miter; stroke-linecap:round; "></polyline><path style="stroke:#000000;stroke-width:126;stroke-linecap:butt;" d="M 4724,9448 A 4660 4660  0  0  1  8598  9259"></path><path style="stroke:#000000;stroke-width:174;stroke-linecap:butt;" d="M 4488,9685 A 4228 4228  0  0  0   472  9732"></path><path style="stroke:#000000;stroke-width:126;stroke-linecap:butt;" d="M 4724,3590 A 4241 4241  0  0  1  8598  3496"></path><path style="stroke:#000000;stroke-width:126;stroke-linecap:round;" d="M 850,3496  A 4241 4241  0  0  1  4724  3590"></path><path style="stroke:#000000;stroke-width:126;stroke-linecap:round;" d="M 850,9259  A 4507 4507  0  0  1  4724  9448"></path><polyline points="5385,4299 4062,8125" style="stroke:#000000;stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="8598,3496 8598,9259" style="stroke:#000000;stroke-width:126; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="850,3496 850,9259" style="stroke:#000000;stroke-width:126; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="4960,9685 4488,9685" style="stroke:#000000;stroke-width:174; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="3070,4582 1889,6141 3070,7700" style="stroke:#000000;stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="6418,4582 7600,6141 6418,7700" style="stroke:#000000;stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="8976,3590 8976,9732" style="stroke:#000000;stroke-width:174; stroke-linejoin:miter; stroke-linecap:round;"></polyline><path style="stroke:#000000;stroke-width:174;stroke-linecap:butt;" d="M 4960,9685 A 4228 4228  0  0  1  8976  9732"></path></g></svg></div></a><a class="runestone-link" href="https://runestone.academy" title="Runestone Academy"><img class="logo" src="http://staging.runestoneacademy.org/runestone/static/images/RAIcon_cropped.png"></a><a class="mathjax-link" href="https://www.mathjax.org" title="MathJax"><img class="logo" src="https://www.mathjax.org/badge/badge-square-2.png"></a>
</div>
</body>
</html>
